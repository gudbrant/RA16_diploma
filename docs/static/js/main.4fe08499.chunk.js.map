{"version":3,"sources":["components/LinksList/LinksList.jsx","redux/catalog/actions.js","redux/catalog/types.js","redux/globalSettings/actions.js","redux/globalSettings/types.js","components/SearchForm/SearchForm.jsx","redux/cart/selectors.js","components/CartIcon/CartIcon.jsx","components/Header/Header.jsx","components/Banner/Banner.jsx","components/Footer/Footer.jsx","components/Preloader/Preloader.jsx","redux/catalogItem/actions.js","redux/catalogItem/types.js","components/Sizes/Sizes.jsx","components/Quantity/Quantity.jsx","components/CatalogItem/CatalogItem.jsx","redux/cart/actions.js","redux/cart/types.js","pages/CatalogItemPage.jsx","components/Price/Price.jsx","components/Image/Image.jsx","components/Card/Card.jsx","components/CardList/CardList.jsx","redux/categories/actions.js","redux/categories/types.js","components/Categories/Categories.jsx","components/Catalog/Catalog.jsx","pages/CatalogPage.jsx","components/Cart/Cart.jsx","components/Order/Order.jsx","redux/order/actions.js","redux/order/types.js","pages/CartPage.jsx","components/TopSales/TopSales.jsx","redux/topSales/actions.js","redux/topSales/types.js","pages/HomePage.jsx","pages/AboutPage.jsx","pages/ContactsPage.jsx","pages/Page404.jsx","App.jsx","serviceWorker.js","redux/globalSettings/reducer.js","redux/categories/reducer.js","redux/catalog/reducer.js","redux/catalogItem/reducer.js","redux/topSales/reducer.js","redux/cart/reducer.js","redux/order/reducer.js","redux/reducer.js","redux/epics.js","redux/topSales/epics.js","redux/catalog/epics.js","redux/categories/epics.js","redux/catalogItem/epics.js","redux/cart/epics.js","redux/order/epics.js","redux/store.js","index.jsx"],"names":["LinksList","links","className","onClick","activateLink","pathname","useLocation","map","o","route","key","name","to","defaultProps","catalogRequest","payload","type","changeGlobalSetting","settings","SearchForm","props","dataId","onSubmit","searchString","useSelector","state","globalSettings","dispatch","useDispatch","inputEl","useRef","useEffect","includes","current","focus","data-id","evt","preventDefault","trim","placeholder","value","onChange","target","ref","getCartItemsCount","createSelector","cart","length","reduce","acc","cur","quantity","CartIcon","cartItemsCount","connect","Header","useState","showSearchForm","setShowSearchForm","history","useHistory","headerLinks","categories","toggleSearch","src","alt","id","onKeyPress","role","tabIndex","label","category","find","selected","categoryId","q","push","Banner","link","Footer","href","contacts","Preloader","catalogItemSetQuantity","Sizes","items","index","size","Quantity","title","onIncrease","onDecrease","CatalogItem","catalogItem","loading","error","item","selectedSize","catalogItemRequest","images","properties","description","sizes","filter","avalible","catalogItemSelectSize","cartAddItem","CatalogItemPage","match","useRouteMatch","params","Price","currency","valueStr","String","replace","propTypes","PropTypes","number","isRequired","string","wrapperStyle","width","height","position","overflow","paddingBottom","imgStyle","left","top","right","bottom","heigth","margin","Image","showIndex","setShowIndex","goodImages","setGoodImages","style","onMouseEnter","onMouseLeave","onError","_","Card","data","price","minHeight","CardList","categoryChangeSelection","Categories","selectedCount","changeSelectionToAll","forEach","handleClick","Catalog","text","showSearchField","catalog","recieveOffset","recievedCount","offset","CatalogPage","Cart","scope","decrement","cartRemoveItem","colSpan","Order","order","success","phone","address","agreementChecked","changeArgeementChecked","orderReset","maxWidth","owner","count","htmlFor","checked","disabled","message","CartPage","TopSales","topSales","HomePage","AboutPage","ContactsPage","Page404","active","footerLinks","banner","App","exact","path","component","Boolean","window","location","hostname","initialState","Number","process","JSON","parse","localStorage","getItem","reducer","combineReducers","action","newState","found","epic","combineEpics","action$","pipe","ofType","exhaustMap","ajax","getJSON","retry","topSalesSuccess","catchError","e","of","topSalesFailure","urlParams","URLSearchParams","set","toString","obj","catalogSuccess","catalogFailure","categorySuccess","catalogItemSuccess","catalogItemFailure","state$","distinctUntilChanged","tap","setItem","stringify","ignoreElements","url","method","headers","body","orderSubmitSuccess","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","epicMiddleware","createEpicMiddleware","store","createStore","applyMiddleware","run","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.4fe08499.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\n\nexport default function LinksList({\n  links, className, onClick, activateLink,\n}) {\n  const { pathname } = useLocation();\n\n  return (\n    <ul className={className}>\n      { links.map((o) => (\n        <li\n          className={`nav-item${(activateLink && (pathname === o.route)) ? ' active' : ''}`}\n          key={o.name}\n        >\n          <Link to={o.route} className=\"nav-link\" onClick={() => onClick(o.name)}>{o.name}</Link>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nLinksList.defaultProps = {\n  links: [],\n  className: '',\n  onClick: () => {},\n  activateLink: false,\n};\n\nLinksList.propTypes = {\n  links: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    route: PropTypes.string.isRequired,\n    active: PropTypes.bool,\n  })),\n  className: PropTypes.string,\n  onClick: PropTypes.func,\n  activateLink: PropTypes.bool,\n};\n","import {\n  CATALOG_ITEMS_RECIEVED_COUNT,\n  CATALOG_REQUEST,\n  CATALOG_FAILURE,\n  CATALOG_SUCCESS,\n} from './types';\n\nexport function catalogItemsRecievedCount(count) {\n  return { type: CATALOG_ITEMS_RECIEVED_COUNT, payload: count };\n}\n\nexport function catalogRequest(payload) {\n  return { type: CATALOG_REQUEST, payload };\n}\n\nexport function catalogFailure(value = true) {\n  return { type: CATALOG_FAILURE, payload: value };\n}\n\nexport function catalogSuccess(value = true) {\n  return { type: CATALOG_SUCCESS, payload: value };\n}\n","export const CATALOG_ITEMS_RECIEVED_COUNT = 'CATALOG_ITEMS_RECIEVED_COUNT';\nexport const CATALOG_REQUEST = 'CATALOG_REQUEST';\nexport const CATALOG_FAILURE = 'CATALOG_FAILURE';\nexport const CATALOG_SUCCESS = 'CATALOG_SUCCESS';\n","/* eslint-disable import/prefer-default-export */\nimport {\n  CHANGE_GLOBAL_SETTINGS,\n} from './types';\n\nexport function changeGlobalSetting(settings = {}) {\n  return { type: CHANGE_GLOBAL_SETTINGS, payload: settings };\n}\n","/* eslint-disable import/prefer-default-export */\nexport const CHANGE_GLOBAL_SETTINGS = 'CHANGE_GLOBAL_SETTINGS';\n","import React, { useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { changeGlobalSetting } from '../../redux/globalSettings/actions';\n\nexport default function SearchForm(props) {\n  const { className, dataId, onSubmit } = props;\n  const { searchString } = useSelector((state) => state.globalSettings);\n  const dispatch = useDispatch();\n\n  const inputEl = useRef();\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onSubmit(searchString.trim());\n  };\n\n  const handleChange = (evt) => {\n    dispatch(changeGlobalSetting({ searchString: evt.target.value }));\n  };\n\n  useEffect(() => {\n    if (!className.includes('invisible')) inputEl.current.focus();\n    return () => {};\n  }, [className]);\n\n  return (\n    <form\n      className={className}\n      data-id={dataId}\n      onSubmit={handleSubmit}\n    >\n      <input\n        className=\"form-control\"\n        placeholder=\"Поиск\"\n        value={searchString}\n        onChange={handleChange}\n        ref={inputEl}\n      />\n    </form>\n  );\n}\n\nSearchForm.defaultProps = {\n  className: '',\n  dataId: '',\n};\n\nSearchForm.propTypes = {\n  className: PropTypes.string,\n  dataId: PropTypes.string,\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { createSelector } from 'reselect';\n\nconst getCart = (state) => state.cart;\n\nconst getCartItemsCount = createSelector(\n  [getCart],\n  (cart) => {\n    if (cart.length) {\n      const result = cart.reduce((acc, cur) => (acc + cur.quantity), 0);\n      return result;\n    }\n    return 0;\n  },\n);\n\nexport default getCartItemsCount;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport getCartItemsCount from '../../redux/cart/selectors';\n\nfunction CartIcon({ cartItemsCount }) {\n  return (\n    <Link to=\"/cart\">\n      <div className=\"header-controls-pic header-controls-cart\">\n        {(cartItemsCount > 0) && <div className=\"header-controls-cart-full\">{cartItemsCount}</div>}\n        <div className=\"header-controls-cart-menu\" />\n      </div>\n    </Link>\n  );\n}\n\nCartIcon.defaultProps = {\n  cartItemsCount: 0,\n};\n\nCartIcon.propTypes = {\n  cartItemsCount: PropTypes.number,\n};\n\nconst mapStateToProps = (state) => ({ cartItemsCount: getCartItemsCount(state) });\n\nexport default connect(mapStateToProps)(CartIcon);\n","import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport LinksList from '../LinksList/LinksList';\nimport { catalogRequest } from '../../redux/catalog/actions';\nimport SearchForm from '../SearchForm/SearchForm';\nimport CartIcon from '../CartIcon/CartIcon';\n\nexport default function Header() {\n  const [showSearchForm, setShowSearchForm] = useState(false);\n  const dispatch = useDispatch();\n\n  const history = useHistory();\n\n  const { headerLinks } = useSelector((state) => state.globalSettings);\n  const categories = useSelector((state) => state.categories);\n\n  const hideSearch = () => setShowSearchForm(false);\n  const toggleSearch = () => setShowSearchForm(!showSearchForm);\n\n  const handleSearchSubmit = (searchString) => {\n    const category = categories.find((o) => o.selected);\n    dispatch(catalogRequest({\n      categoryId: category ? category.id : null,\n      q: searchString.trim(),\n    }));\n    hideSearch();\n    history.push('/catalog');\n  };\n\n  return (\n    <header className=\"container\">\n      <div className=\"row\">\n        <div className=\"col\">\n          <nav className=\"navbar navbar-expand-sm navbar-light bg-light\">\n            <Link to=\"/\" className=\"navbar-brand\">\n              <img src=\"/img/header-logo.png\" alt=\"Bosa Noga\" />\n            </Link>\n\n            <div className=\"collapase navbar-collapse\" id=\"navbarMain\">\n              <LinksList\n                className=\"navbar-nav mr-auto\"\n                links={headerLinks}\n                activateLink\n              />\n\n              <div>\n                <div className=\"header-controls-pics\">\n                  <div\n                    data-id=\"search-expander\"\n                    className=\"header-controls-pic header-controls-search\"\n                    onClick={toggleSearch}\n                    onKeyPress={toggleSearch}\n                    role=\"button\"\n                    tabIndex={0}\n                    label=\"search\"\n                  />\n                  <CartIcon />\n                </div>\n                <SearchForm\n                  data-id=\"search-form\"\n                  className={`header-controls-search-form form-inline ${showSearchForm ? '' : 'invisible'}`}\n                  onSubmit={handleSearchSubmit}\n                />\n              </div>\n            </div>\n          </nav>\n        </div>\n      </div>\n    </header>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nexport default function Banner({ src, name, link }) {\n  return (\n    <div className=\"banner\">\n      <Link to={link}>\n        <img src={src} className=\"img-fluid\" alt={name} />\n        <h2 className=\"banner-header\">{name}</h2>\n      </Link>\n    </div>\n  );\n}\n\nBanner.defaultProps = {\n  name: '',\n  link: '',\n};\n\nBanner.propTypes = {\n  src: PropTypes.string.isRequired,\n  name: PropTypes.string,\n  link: PropTypes.string,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport LinksList from '../LinksList/LinksList';\n\nexport default function Footer({ links }) {\n  return (\n    <footer className=\"container bg-light footer\">\n      <div className=\"row\">\n        <div className=\"col\">\n          <section>\n            <h5>Информация</h5>\n            <LinksList className=\"nav flex-column\" links={links} />\n          </section>\n        </div>\n        <div className=\"col\">\n          <section>\n            <h5>Принимаем к оплате:</h5>\n            <div className=\"footer-pay\">\n              <div className=\"footer-pay-systems footer-pay-systems-paypal\" />\n              <div className=\"footer-pay-systems footer-pay-systems-master-card\" />\n              <div className=\"footer-pay-systems footer-pay-systems-visa\" />\n              <div className=\"footer-pay-systems footer-pay-systems-yandex\" />\n              <div className=\"footer-pay-systems footer-pay-systems-webmoney\" />\n              <div className=\"footer-pay-systems footer-pay-systems-qiwi\" />\n            </div>\n          </section>\n          <section>\n            <div className=\"footer-copyright\">\n              2009-2019 © BosaNoga.ru — модный интернет-магазин обуви и аксессуаров. Все права\n              защищены.\n              <br />\n              Доставка по всей России!\n            </div>\n          </section>\n        </div>\n        <div className=\"col text-right\">\n          <section className=\"footer-contacts\">\n            <h5>Контакты:</h5>\n            <a className=\"footer-contacts-phone\" href=\"tel:+7-495-790-35-03\">\n              +7 495 79 03 5 03\n            </a>\n            <span className=\"footer-contacts-working-hours\">Ежедневно: с 09-00 до 21-00</span>\n            <a className=\"footer-contacts-email\" href=\"mailto:office@bosanoga.ru\">\n              office@bosanoga.ru\n            </a>\n            <div className=\"footer-social-links\">\n              <div className=\"footer-social-link footer-social-link-twitter\" />\n              <div className=\"footer-social-link footer-social-link-vk\" />\n            </div>\n          </section>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\nFooter.defaultProps = {\n  links: [],\n  contacts: null,\n};\n\nFooter.propTypes = {\n  links: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    route: PropTypes.string.isRequired,\n    active: PropTypes.bool,\n  })),\n  contacts: PropTypes.shape({\n    phone: PropTypes.string.isRequired,\n    email: PropTypes.string.isRequired,\n    workingHours: PropTypes.string.isRequired,\n  }),\n};\n","import React from 'react';\n\nexport default function Preloader() {\n  return (\n    <div className=\"preloader\">\n      <span />\n      <span />\n      <span />\n      <span />\n    </div>\n  );\n}\n","import {\n  CATALOG_ITEM_SET_QUANTITY,\n  CATALOG_ITEM_SELECT_SIZE,\n  CATALOG_ITEM_REQUEST,\n  CATALOG_ITEM_FAILURE,\n  CATALOG_ITEM_SUCCESS,\n} from './types';\n\nexport function catalogItemSetQuantity(quantity) {\n  return { type: CATALOG_ITEM_SET_QUANTITY, payload: quantity };\n}\n\nexport function catalogItemSelectSize(index) {\n  return { type: CATALOG_ITEM_SELECT_SIZE, payload: index };\n}\n\nexport function catalogItemRequest(id) {\n  return { type: CATALOG_ITEM_REQUEST, payload: id };\n}\n\nexport function catalogItemFailure(value = true) {\n  return { type: CATALOG_ITEM_FAILURE, payload: value };\n}\n\nexport function catalogItemSuccess(value = true) {\n  return { type: CATALOG_ITEM_SUCCESS, payload: value };\n}\n","export const CATALOG_ITEM_SET_QUANTITY = 'CATALOG_ITEM_SET_QUANTITY';\nexport const CATALOG_ITEM_SELECT_SIZE = 'CATALOG_ITEM_SELECT_SIZE';\nexport const CATALOG_ITEM_REQUEST = 'CATALOG_ITEM_REQUEST';\nexport const CATALOG_ITEM_FAILURE = 'CATALOG_ITEM_FAILURE';\nexport const CATALOG_ITEM_SUCCESS = 'CATALOG_ITEM_SUCCESS';\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function Sizes({ items, onClick, selected }) {\n  return (\n    <p>\n      {(items.length === 0) && 'Нет в наличии'}\n      {(items.length > 0) && 'Размеры в наличии: '}\n      {(items.length > 0) && items.map((o, index) => (\n        <span\n          className={`catalog-item-size ${(index === selected) ? 'selected' : ''}`}\n          key={o.size}\n          onClick={() => onClick(index)}\n          onKeyPress={() => onClick(index)}\n          role=\"button\"\n          tabIndex={-1}\n        >\n          {o.size}\n        </span>\n      ))}\n    </p>\n  );\n}\n\nSizes.defaultProps = {\n  items: [],\n  onClick: () => {},\n  selected: -1,\n};\n\nSizes.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.shape({\n    size: PropTypes.string.isRequired,\n    avalible: PropTypes.bool,\n  })),\n  onClick: PropTypes.func,\n  selected: PropTypes.number,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function Quantity(props) {\n  const {\n    title,\n    value,\n    onIncrease,\n    onDecrease,\n  } = props;\n\n  return (\n    <p>\n      {title}\n      <span className=\"btn-group btn-group-sm pl-2\">\n        <button type=\"button\" className=\"btn btn-secondary\" onClick={onDecrease}>-</button>\n        <span className=\"btn btn-outline-primary\">{value}</span>\n        <button type=\"button\" className=\"btn btn-secondary\" onClick={onIncrease}>+</button>\n      </span>\n    </p>\n  );\n}\n\nQuantity.defaultProps = {\n  title: '',\n};\n\nQuantity.propTypes = {\n  title: PropTypes.string,\n  value: PropTypes.number.isRequired,\n  onIncrease: PropTypes.func.isRequired,\n  onDecrease: PropTypes.func.isRequired,\n};\n","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Preloader from '../Preloader/Preloader';\nimport {\n  catalogItemSetQuantity,\n  catalogItemSelectSize,\n  catalogItemRequest,\n} from '../../redux/catalogItem/actions';\nimport { cartAddItem } from '../../redux/cart/actions';\nimport Sizes from '../Sizes/Sizes';\nimport Quantity from '../Quantity/Quantity';\n\nexport default function CatalogItem({ id }) {\n  const {\n    loading,\n    error,\n    item,\n    quantity,\n    selectedSize,\n  } = useSelector((state) => state.catalogItem);\n\n  const dispatch = useDispatch();\n\n  const handleIncrease = () => dispatch(catalogItemSetQuantity(quantity + 1));\n  const handleDecrease = () => {\n    dispatch(catalogItemSetQuantity(quantity > 1 ? quantity - 1 : 1));\n  };\n\n  const handleSizeClick = (index) => dispatch(catalogItemSelectSize(index));\n\n  const handleAddToCart = () => dispatch(cartAddItem({\n    item: { ...item, size: item.sizes[selectedSize].size },\n    quantity,\n  }));\n\n  useEffect(() => {\n    dispatch(catalogItemRequest(id));\n    dispatch(catalogItemSetQuantity(1));\n    return () => {};\n  }, [dispatch, id]);\n\n  return (\n    <section className=\"catalog-item\">\n      {(loading || error) && <Preloader />}\n      {(!loading && !error && item) && (\n        <>\n          <h2 className=\"text-center\">{item.title}</h2>\n          <div className=\"row\">\n            <div className=\"col-5\">\n              <img\n                src={item.images[0] || ''}\n                className=\"img-fluid\"\n                alt=\"\"\n              />\n            </div>\n            <div className=\"col-7\">\n              <table className=\"table table-bordered\">\n                <tbody>\n                  {CatalogItem.properties.map((o) => (\n                    <tr key={o.name}>\n                      <td>{o.description}</td>\n                      <td>{item[o.name] || ''}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n              <div className=\"text-center\">\n                <Sizes\n                  items={item.sizes.filter((o) => o.avalible)}\n                  onClick={handleSizeClick}\n                  selected={selectedSize}\n                />\n                <Quantity\n                  title=\"Количество: \"\n                  value={quantity}\n                  onIncrease={handleIncrease}\n                  onDecrease={handleDecrease}\n                />\n              </div>\n              <button type=\"button\" className=\"btn btn-danger btn-block btn-lg\" onClick={handleAddToCart}>В корзину</button>\n            </div>\n          </div>\n        </>\n      )}\n    </section>\n  );\n}\n\nCatalogItem.properties = [\n  { name: 'sku', description: 'Артикул' },\n  { name: 'manufacturer', description: 'Производитель' },\n  { name: 'color', description: 'Цвет' },\n  { name: 'material', description: 'Материалы' },\n  { name: 'season', description: 'Сезон' },\n  { name: 'reason', description: 'Повод' },\n];\n\nCatalogItem.propTypes = {\n  id: PropTypes.string.isRequired,\n};\n","import {\n  CART_ADD_ITEM,\n  CART_REMOVE_ITEM,\n  CART_CLEAR,\n} from './types';\n\nexport function cartAddItem({ item, quantity = 1 }) {\n  return { type: CART_ADD_ITEM, payload: { item, quantity } };\n}\n\nexport function cartRemoveItem({ key, decrement = 0 }) {\n  return { type: CART_REMOVE_ITEM, payload: { key, decrement } };\n}\n\nexport function cartClear() {\n  return { type: CART_CLEAR, payload: true };\n}\n","export const CART_ADD_ITEM = 'CART_ADD_ITEM';\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM';\nexport const CART_CLEAR = 'CART_CLEAR';\n","import React from 'react';\n// import PropTypes from 'prop-types';\nimport { useRouteMatch } from 'react-router';\nimport CatalogItem from '../components/CatalogItem/CatalogItem';\n\nexport default function CatalogItemPage() {\n  const match = useRouteMatch();\n\n  return <CatalogItem id={match.params.id} />;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function Price({ value, currency }) {\n  const valueStr = String(value).replace(/(\\d)(?=(\\d{3})$)/g, '$1 ');\n  return (\n    <>\n      { `${valueStr} ${currency}` }\n    </>\n  );\n}\n\nPrice.propTypes = {\n  value: PropTypes.number.isRequired,\n  currency: PropTypes.string.isRequired,\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nconst wrapperStyle = {\n  width: '100%',\n  height: '0',\n  position: 'relative',\n  overflow: 'hidden',\n  paddingBottom: '170%', // ratio\n};\n\nconst imgStyle = {\n  position: 'absolute',\n  left: '-50%',\n  top: '-50%',\n  right: '-50%',\n  bottom: '-50%',\n  heigth: 'auto',\n  width: '100%',\n  margin: 'auto',\n};\n\nfunction Image({ title, images = [] }) {\n  const [showIndex, setShowIndex] = useState(0);\n  const [goodImages, setGoodImages] = useState([]);\n\n  useEffect(() => {\n    setGoodImages(images);\n    return () => {};\n  }, []);\n\n  const handleMouseEnter = () => {\n    if ((goodImages.length > 1) && (showIndex < goodImages.length - 1)) {\n      setShowIndex(showIndex + 1);\n    }\n  };\n\n  const handleMouseLeave = () => {\n    if (goodImages.length > 1) setShowIndex(0);\n  };\n\n  const handleError = () => {\n    if (showIndex === goodImages.length - 1) setShowIndex(0);\n    setGoodImages(goodImages.filter((_, index) => index !== showIndex));\n  };\n\n  return (\n    <>\n      { images.length && (\n        <div style={wrapperStyle}>\n          <img\n            src={goodImages[showIndex]}\n            // className=\"card-img-top img-fluid\"\n            alt={title}\n            onMouseEnter={handleMouseEnter}\n            onMouseLeave={handleMouseLeave}\n            style={imgStyle}\n            onError={handleError}\n          />\n        </div>\n      )}\n    </>\n  );\n}\n\nImage.propTypes = {\n  title: PropTypes.string.isRequired,\n  images: PropTypes.arrayOf(PropTypes.string).isRequired,\n};\n\nexport default Image;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport Price from '../Price/Price';\nimport Image from '../Image/Image';\n\nexport default function Card({ data }) {\n  const {\n    images,\n    title,\n    price,\n    id,\n  } = data;\n\n  return (\n    <div className=\"card catalog-item-card\">\n      <Image id={id} title={title} images={images} />\n      <div className=\"card-body\">\n        <p className=\"card-text\" style={{ minHeight: '3em' }}>{title}</p>\n        <p className=\"card-text\">\n          <Price value={price} currency=\" руб.\" />\n        </p>\n        <Link to={`/catalog/${id}`} className=\"btn btn-outline-primary\">Заказать</Link>\n      </div>\n    </div>\n  );\n}\n\nCard.propTypes = {\n  data: PropTypes.shape({\n    category: PropTypes.number,\n    images: PropTypes.arrayOf(PropTypes.string).isRequired,\n    title: PropTypes.string.isRequired,\n    price: PropTypes.number.isRequired,\n    id: PropTypes.number.isRequired,\n  }).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Card from '../Card/Card';\n\nexport default function CardList({ items }) {\n  return (\n    <div className=\"row\">\n      {items.map((o) => (\n        <div className=\"col-4\" key={o.id}>\n          <Card data={o} />\n        </div>\n      ))}\n    </div>\n  );\n}\n\nCardList.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.shape).isRequired,\n};\n","/* eslint-disable import/prefer-default-export */\nimport {\n  CATEGORY_CHANGE_SELECTION,\n  CATEGORY_REQUEST,\n  CATEGORY_SUCCESS,\n} from './types';\n\nexport function categoryChangeSelection({ id, selected }) {\n  return { type: CATEGORY_CHANGE_SELECTION, payload: { id, selected } };\n}\n\nexport function categoryRequest() {\n  return { type: CATEGORY_REQUEST };\n}\n\nexport function categorySuccess(value = true) {\n  return { type: CATEGORY_SUCCESS, payload: value };\n}\n","/* eslint-disable import/prefer-default-export */\nexport const CATEGORY_CHANGE_SELECTION = 'CATEGORY_CHANGE_SELECTION';\nexport const CATEGORY_REQUEST = 'CATEGORY_REQUEST';\nexport const CATEGORY_SUCCESS = 'CATEGORY_SUCCESS';\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { categoryChangeSelection, categoryRequest } from '../../redux/categories/actions';\n\nexport default function Categories(props) {\n  const categories = useSelector((state) => state.categories);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(categoryRequest());\n    return () => {};\n  }, [dispatch]);\n\n  const selectedCount = categories.filter((o) => o.selected).length;\n\n  const changeSelectionToAll = (value) => {\n    categories.forEach((o) => {\n      dispatch(categoryChangeSelection({ id: o.id, selected: value }));\n    });\n  };\n\n  const handleClick = (evt, item) => {\n    if (evt) evt.preventDefault();\n    if (!item) {\n      changeSelectionToAll(false);\n      props.onClick();\n      return;\n    }\n    const { id, selected } = item;\n    changeSelectionToAll(false);\n    dispatch(categoryChangeSelection({ id, selected: !selected }));\n    props.onClick(!selected ? id : null);\n  };\n\n  return (\n    <ul className=\"catalog-categories nav justify-content-center\">\n      <li className=\"nav-item\">\n        <a\n          href=\"#\"\n          className={`nav-link ${!selectedCount ? ' active' : ''}`}\n          onClick={(evt) => handleClick(evt)}\n        >\n          Все\n        </a>\n      </li>\n      {categories.map((o) => (\n        <li className=\"nav-item\" key={o.id}>\n          <a\n            href=\"#\"\n            className={`nav-link ${o.selected ? ' active' : ''}`}\n            onClick={(evt) => handleClick(evt, o)}\n          >\n            {o.title}\n          </a>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nCategories.defaultProps = {\n  onClick: () => {},\n};\n\nCategories.propTypes = {\n  onClick: PropTypes.func,\n};\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport CardList from '../CardList/CardList';\nimport Categories from '../Categories/Categories';\nimport Preloader from '../Preloader/Preloader';\nimport { catalogRequest } from '../../redux/catalog/actions';\nimport { changeGlobalSetting } from '../../redux/globalSettings/actions';\n\nexport default function Catalog({ text, showSearchField }) {\n  const {\n    items,\n    loading,\n    error,\n    recieveOffset,\n    recievedCount,\n  } = useSelector((state) => state.catalog);\n  const categories = useSelector((state) => state.categories);\n  const { searchString } = useSelector((state) => state.globalSettings);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(catalogRequest({\n      q: searchString.trim(),\n    }));\n    return () => {};\n  }, []);\n\n  const handleClick = (categoryId) => {\n    dispatch(catalogRequest({\n      categoryId,\n      q: searchString.trim(),\n    }));\n  };\n\n  const handleLoadMore = () => {\n    const category = categories.find((o) => o.selected);\n    dispatch(catalogRequest({\n      categoryId: category ? category.id : null,\n      offset: items.length,\n      q: searchString.trim(),\n    }));\n  };\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    const category = categories.find((o) => o.selected);\n    dispatch(catalogRequest({\n      categoryId: category ? category.id : null,\n      q: searchString.trim(),\n    }));\n  };\n\n  const handleChange = (evt) => {\n    dispatch(changeGlobalSetting({ searchString: evt.target.value }));\n  };\n\n  return (\n    <section className=\"catalog\">\n      { text && <h2 className=\"text-center\">{text}</h2> }\n      {(showSearchField) && (\n        <form className=\"catalog-search-form form-inline\" onSubmit={handleSubmit}>\n          <input className=\"form-control\" placeholder=\"Поиск\" value={searchString} onChange={handleChange} />\n        </form>\n      )}\n      <Categories onClick={handleClick} />\n      <CardList items={items} />\n      {(loading || error) && <Preloader />}\n      {((!loading && !error) && (items.length === 0)) && (<h2 className=\"text-center\">Ничего не найдено! =(</h2>) }\n      {(!loading && !error) && (recievedCount === recieveOffset) && (\n        <div className=\"text-center\">\n          <button type=\"button\" className=\"btn btn-outline-primary\" onClick={handleLoadMore}>Загрузить ещё</button>\n        </div>\n      )}\n    </section>\n  );\n}\n\nCatalog.defaultProps = {\n  text: 'Каталог',\n  showSearchField: true,\n};\n\nCatalog.propTypes = {\n  text: PropTypes.string,\n  showSearchField: PropTypes.bool,\n};\n","import React from 'react';\nimport Catalog from '../components/Catalog/Catalog';\n\nexport default function CatalogPage() {\n  return <Catalog />;\n}\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { cartRemoveItem } from '../../redux/cart/actions';\n\nexport default function Cart() {\n  const cart = useSelector((state) => state.cart);\n  const dispatch = useDispatch();\n\n  return (\n    <section className=\"cart\">\n      <h2 className=\"text-center\">Корзина</h2>\n      <table className=\"table table-bordered\">\n        <thead>\n          <tr>\n            <th scope=\"col\">#</th>\n            <th scope=\"col\">Название</th>\n            <th scope=\"col\">Размер</th>\n            <th scope=\"col\">Кол-во</th>\n            <th scope=\"col\">Стоимость</th>\n            <th scope=\"col\">Итого</th>\n            <th scope=\"col\">Действия</th>\n          </tr>\n        </thead>\n        <tbody>\n          {cart.map((o, index) => (\n            <tr key={o.item.key}>\n              <th scope=\"row\">{index + 1}</th>\n              <td><a href={`/products/${o.item.id}`}>{o.item.title}</a></td>\n              <td>{o.item.size}</td>\n              <td>{o.quantity}</td>\n              <td>{`${o.item.price} руб.`}</td>\n              <td>{`${o.item.price * o.quantity} руб.`}</td>\n              <td>\n                <button\n                  type=\"button\"\n                  className=\"btn btn-outline-danger btn-sm\"\n                  onClick={() => dispatch(cartRemoveItem({ key: o.item.key }))}\n                >\n                  Удалить\n                </button>\n              </td>\n            </tr>\n          ))}\n          <tr>\n            <td colSpan=\"5\" className=\"text-right\">Общая стоимость</td>\n            <td>{`${cart.length ? cart.reduce((acc, cur) => (acc + cur.item.price * cur.quantity), 0) : 0} руб.`}</td>\n          </tr>\n        </tbody>\n      </table>\n    </section>\n  );\n}\n","/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  orderSetPhone,\n  orderSetAddress,\n  orderSubmitRequest,\n  orderReset,\n} from '../../redux/order/actions';\nimport Preloader from '../Preloader/Preloader';\nimport { cartClear } from '../../redux/cart/actions';\n\nexport default function Order() {\n  const {\n    loading,\n    error,\n    success,\n    phone,\n    address,\n  } = useSelector((state) => state.order);\n  const cart = useSelector((state) => state.cart);\n\n  const [agreementChecked, changeArgeementChecked] = useState(false);\n\n  const dispatch = useDispatch();\n\n  const handleArgeementClick = (evt) => changeArgeementChecked(evt.target.checked);\n  const handlePhoneChange = (evt) => dispatch(orderSetPhone(evt.target.value));\n  const handleAddressChange = (evt) => dispatch(orderSetAddress(evt.target.value));\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    dispatch(orderSubmitRequest({\n      owner: {\n        phone,\n        address,\n      },\n      items: cart.map((o) => ({\n        id: o.item.id,\n        price: o.item.price,\n        count: o.quantity,\n      })),\n    }));\n  };\n\n  useEffect(() => (() => dispatch(orderReset())), []); // ComponentWillUnmount\n\n  useEffect(() => {\n    if (success) dispatch(cartClear());\n    return () => {};\n  }, [success]);\n\n  return (\n    <>\n      {loading && <Preloader />}\n      {(!loading && !error && success) && (\n        <h3 className=\"text-center\">Заказ оформлен!</h3>\n      )}\n      {(!loading && !error && !success && cart.length > 0) && (\n        <section className=\"order\">\n          <h2 className=\"text-center\">Оформить заказ</h2>\n          <div className=\"card\" style={{ maxWidth: '30rem', margin: '0 auto' }}>\n            <form className=\"card-body\" onSubmit={handleSubmit}>\n              <div className=\"form-group\">\n                <label htmlFor=\"phone\">Телефон</label>\n                <input\n                  className=\"form-control\"\n                  id=\"phone\"\n                  placeholder=\"Ваш телефон\"\n                  onChange={handlePhoneChange}\n                  value={phone}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"address\">Адрес доставки</label>\n                <input\n                  className=\"form-control\"\n                  id=\"address\"\n                  placeholder=\"Адрес доставки\"\n                  onChange={handleAddressChange}\n                  value={address}\n                />\n              </div>\n              <div className=\"form-group form-check\">\n                <input type=\"checkbox\" className=\"form-check-input\" id=\"agreement\" onChange={handleArgeementClick} />\n                <label className=\"form-check-label\" htmlFor=\"agreement\">Согласен с правилами доставки</label>\n              </div>\n              <button\n                type=\"submit\"\n                className=\"btn btn-outline-secondary\"\n                disabled={!agreementChecked}\n              >\n                Оформить\n              </button>\n            </form>\n          </div>\n        </section>\n      )}\n      {error && <h3 className=\"text-center\">{`Ошибка: ${error.message}`}</h3>}\n    </>\n  );\n}\n","import {\n  ORDER_SET_PHONE,\n  ORDER_SET_ADDRESS,\n  ORDER_SUBMIT_REQUEST,\n  ORDER_SUBMIT_FAILURE,\n  ORDER_SUBMIT_SUCCESS,\n  ORDER_RESET,\n} from './types';\n\nexport function orderSetPhone(value) {\n  return { type: ORDER_SET_PHONE, payload: value };\n}\n\nexport function orderSetAddress(value) {\n  return { type: ORDER_SET_ADDRESS, payload: value };\n}\n\nexport function orderSubmitRequest(data) {\n  return { type: ORDER_SUBMIT_REQUEST, payload: data };\n}\n\nexport function orderSubmitFailure(err) {\n  return { type: ORDER_SUBMIT_FAILURE, payload: err };\n}\n\nexport function orderSubmitSuccess(value = true) {\n  return { type: ORDER_SUBMIT_SUCCESS, payload: value };\n}\n\nexport function orderReset(value = true) {\n  return { type: ORDER_RESET, payload: value };\n}\n","export const ORDER_SET_PHONE = 'ORDER_SET_PHONE';\nexport const ORDER_SET_ADDRESS = 'ORDER_SET_ADDRESS';\nexport const ORDER_SUBMIT_REQUEST = 'ORDER_SUBMIT_REQUEST';\nexport const ORDER_SUBMIT_FAILURE = 'ORDER_SUBMIT_FAILURE';\nexport const ORDER_SUBMIT_SUCCESS = 'ORDER_SUBMIT_SUCCESS';\nexport const ORDER_RESET = 'ORDER_RESET';\n","import React from 'react';\nimport Cart from '../components/Cart/Cart';\nimport Order from '../components/Order/Order';\n\nexport default function CartPage() {\n  return (\n    <>\n      <Cart />\n      <Order />\n    </>\n  );\n}\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport CardList from '../CardList/CardList';\nimport Preloader from '../Preloader/Preloader';\nimport { topSalesRequest } from '../../redux/topSales/actions';\n\nexport default function TopSales({ text }) {\n  const { items, loading, error } = useSelector((state) => state.topSales);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(topSalesRequest());\n    return () => {};\n  }, [dispatch]);\n\n  return (\n    <>\n      { !error && (\n        <section className=\"top-sales\">\n          { text && <h2 className=\"text-center\">{text}</h2> }\n          { loading && <Preloader />}\n          { !loading && <CardList items={items} />}\n        </section>\n      )}\n    </>\n  );\n}\n\nTopSales.defaultProps = {\n  text: 'Хиты продаж!',\n};\n\nTopSales.propTypes = {\n  text: PropTypes.string,\n};\n","import {\n  TOP_SALES_REQUEST,\n  TOP_SALES_FAILURE,\n  TOP_SALES_SUCCESS,\n} from './types';\n\nexport function topSalesRequest() {\n  return { type: TOP_SALES_REQUEST };\n}\n\nexport function topSalesFailure(value = true) {\n  return { type: TOP_SALES_FAILURE, payload: value };\n}\n\nexport function topSalesSuccess(value = true) {\n  return { type: TOP_SALES_SUCCESS, payload: value };\n}\n","export const TOP_SALES_REQUEST = 'TOP_SALES_REQUEST';\nexport const TOP_SALES_FAILURE = 'TOP_SALES_FAILURE';\nexport const TOP_SALES_SUCCESS = 'TOP_SALES_SUCCESS';\n","import React from 'react';\nimport TopSales from '../components/TopSales/TopSales';\nimport Catalog from '../components/Catalog/Catalog';\n\nexport default function HomePage() {\n  return (\n    <>\n      <TopSales />\n      <Catalog showSearchField={false} />\n    </>\n  );\n}\n","import React from 'react';\n\nexport default function AboutPage() {\n  return (\n    <section className=\"top-sales\">\n      <h2 className=\"text-center\">О магазине</h2>\n      <p>\n        В Интернете можно встретить немало магазинов, предлагающих аксессуары. Но именно к нам\n        хочется возвращаться снова и снова.\n      </p>\n      <p className=\"h4 text-center\">Мы предлагаем вам особые условия:</p>\n      <ol>\n        <li>\n          Индивидуальный подход специалиста. Когда поступает новая коллекция обуви весна-лето или\n          же коллекция обуви осень-зима – покупателям бывает трудно сориентироваться во всем\n          многообразии новинок. Наш менеджер по телефону поможет вам определиться с товарами,\n          подходящими именно вам.\n        </li>\n        <li>\n          Мы периодически проводим распродажи как женских и мужских, так и детских моделей. Вы\n          будете приятно удивлены ценами на аксессуары в мага- зине BosaNoga.\n        </li>\n        <li>\n          У нас всегда есть из чего выбрать. Неважно, какую категорию вы прос- матриваете:\n          осень-зима, или же весна-лето – вы всегда сможете найти ва- рианты, подходящие вам по\n          внешнему виду и цене.\n        </li>\n        <li>Мы несем ответственность за все товары.</li>\n        <li>Молодые мамы будут рады обширному ассортименту детских моделей.</li>\n      </ol>\n      <p>\n        Если вы ищете место, где представлены обувные новинки от самых известных брендов, то вы\n        зашли по верному адресу.\n      </p>\n      <p>\n        У нас представлены модели для мужчин, женщин, а также детские сапоги, босоножки, ботинки и\n        туфли. Сделав заказ в нашем интернет-магазине, вы сможете быть модным и стильным как\n        осенью-зимой, так и весной-летом. Просто наберите номер нашего телефона, и мы поможем вам\n        определиться с покупкой.\n      </p>\n    </section>\n  );\n}\n","import React from 'react';\n\nexport default function ContactsPage() {\n  return (\n    <section className=\"top-sales\">\n      <h2 className=\"text-center\">Контакты</h2>\n      <p>\n        Наш головной офис расположен в г.Москва, по адресу: Варшавское шоссе, д. 17,\n        бизнес-центр W Plaza.\n      </p>\n      <h5 className=\"text-center\">Координаты для связи:</h5>\n      <p>\n        {'Телефон: '}\n        <a href=\"tel:+7-495-790-35-03\">+7 495 79 03 5 03</a>\n        {' (ежедневно: с 09-00 до 21-00)'}\n      </p>\n      <p>\n        {'Email: '}\n        <a href=\"mailto:office@bosanoga.ru\">office@bosanoga.ru</a>\n      </p>\n    </section>\n  );\n}\n","import React from 'react';\n\nexport default function Page404() {\n  return (\n    <section className=\"top-sales\">\n      <h2 className=\"text-center\">Страница не найдена</h2>\n      <p>\n        Извините, такая страница не найдена!\n      </p>\n    </section>\n  );\n}\n","import './App.css';\nimport React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\nimport Header from './components/Header/Header';\nimport Banner from './components/Banner/Banner';\nimport Footer from './components/Footer/Footer';\n\nimport CatalogItemPage from './pages/CatalogItemPage';\nimport CatalogPage from './pages/CatalogPage';\nimport CartPage from './pages/CartPage';\nimport HomePage from './pages/HomePage';\nimport AboutPage from './pages/AboutPage';\nimport ContactsPage from './pages/ContactsPage';\nimport Page404 from './pages/Page404';\n\nconst links = [\n  { name: 'Главная', route: '/', active: false },\n  { name: 'Каталог', route: '/catalog', active: false },\n  { name: 'О магазине', route: '/about', active: true },\n  { name: 'Контакты', route: '/contacts', active: false },\n];\n\nconst footerLinks = [\n  { name: 'О магазине', route: '/about' },\n  { name: 'Каталог', route: '/catalog' },\n  { name: 'Контакты', route: '/contacts' },\n];\n\nconst banner = {\n  name: 'К весне готовы!',\n  src: '/img/banner.jpg',\n};\n\nfunction App() {\n  return (\n    <>\n      <Router>\n        <Header links={links} />\n        <main className=\"container\">\n          <div className=\"row\">\n            <div className=\"col\">\n              <Banner name={banner.name} src={banner.src} />\n              <Switch>\n                <Route exact path=\"/catalog\" component={CatalogPage} />\n                <Route exact path=\"/catalog/:id([0-9]+)?\" component={CatalogItemPage} />\n                <Route exact path=\"/about\" component={AboutPage} />\n                <Route exact path=\"/contacts\" component={ContactsPage} />\n                <Route exact path=\"/cart\" component={CartPage} />\n                <Route exact path=\"/\" component={HomePage} />\n                <Route component={Page404} />\n              </Switch>\n            </div>\n          </div>\n        </main>\n        <Footer links={footerLinks} />\n      </Router>\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { CHANGE_GLOBAL_SETTINGS } from './types';\n\nconst initialState = {\n  headerLinks: [\n    { name: 'Главная', route: '/' },\n    { name: 'Каталог', route: '/catalog' },\n    { name: 'О магазине', route: '/about' },\n    { name: 'Контакты', route: '/contacts' },\n  ],\n  footerLinks: [\n    { name: 'О магазине', route: '/about' },\n    { name: 'Каталог', route: '/catalog' },\n    { name: 'Контакты', route: '/contacts' },\n  ],\n  banner: {\n    name: 'К весне готовы!',\n    src: '/img/banner.jpg',\n  },\n  searchString: '',\n};\n\nexport default function globalSettingsReducer(state = initialState, action) {\n  switch (action.type) {\n    case CHANGE_GLOBAL_SETTINGS:\n      return { ...state, ...action.payload };\n    default:\n      return state;\n  }\n}\n","import {\n  CATEGORY_CHANGE_SELECTION,\n  CATEGORY_SUCCESS,\n} from './types';\n\nconst initialState = [];\n\nexport default function categoryReducer(state = initialState, action) {\n  switch (action.type) {\n    case CATEGORY_CHANGE_SELECTION: {\n      const { id, selected } = action.payload;\n      const newState = state.map((o) => {\n        if (o.id === id) return { ...o, selected };\n        return o;\n      });\n      return newState;\n    }\n    case CATEGORY_SUCCESS: {\n      const items = action.payload;\n      return items;\n    }\n    default:\n      return state;\n  }\n}\n","import {\n  CATALOG_ITEMS_RECIEVED_COUNT,\n  CATALOG_REQUEST,\n  CATALOG_FAILURE,\n  CATALOG_SUCCESS,\n} from './types';\n\nconst initialState = {\n  loading: false,\n  error: null,\n  recieveOffset: Number(process.env.REACT_APP_CATALOG_RECIEVE_OFFSET),\n  recievedCount: Number(process.env.REACT_APP_CATALOG_RECIEVE_OFFSET),\n  items: [],\n};\n\nexport default function catalogReducer(state = initialState, action) {\n  switch (action.type) {\n    case CATALOG_ITEMS_RECIEVED_COUNT:\n      return { ...state, recievedCount: action.payload };\n    case CATALOG_REQUEST: {\n      const offset = action.payload && action.payload.offset;\n      return {\n        ...state,\n        items: !offset ? [] : state.items,\n        loading: true,\n        error: null,\n      };\n    }\n    case CATALOG_FAILURE: {\n      const { error } = action.payload;\n      return { ...state, loading: false, error };\n    }\n    case CATALOG_SUCCESS: {\n      const items = action.payload;\n      return {\n        ...state,\n        items: [...state.items, ...items],\n        recievedCount: items.length,\n        loading: false,\n        error: null,\n      };\n    }\n    default:\n      return state;\n  }\n}\n","import {\n  CATALOG_ITEM_SET_QUANTITY,\n  CATALOG_ITEM_SELECT_SIZE,\n  CATALOG_ITEM_REQUEST,\n  CATALOG_ITEM_FAILURE,\n  CATALOG_ITEM_SUCCESS,\n} from './types';\n\nconst initialState = {\n  loading: false,\n  error: null,\n  item: null,\n  quantity: 1,\n  selectedSize: 0,\n};\n\nexport default function catalogItemReducer(state = initialState, action) {\n  switch (action.type) {\n    case CATALOG_ITEM_SET_QUANTITY: {\n      return {\n        ...state,\n        quantity: action.payload,\n      };\n    }\n    case CATALOG_ITEM_SELECT_SIZE: {\n      return {\n        ...state,\n        selectedSize: action.payload,\n      };\n    }\n    case CATALOG_ITEM_REQUEST: {\n      return {\n        ...state,\n        item: null,\n        loading: true,\n        error: null,\n      };\n    }\n    case CATALOG_ITEM_FAILURE: {\n      const { error } = action.payload;\n      return { ...state, loading: false, error };\n    }\n    case CATALOG_ITEM_SUCCESS: {\n      const item = action.payload;\n      return {\n        ...state,\n        item,\n        loading: false,\n        error: null,\n      };\n    }\n    default:\n      return state;\n  }\n}\n","import {\n  TOP_SALES_REQUEST,\n  TOP_SALES_FAILURE,\n  TOP_SALES_SUCCESS,\n} from './types';\n\nconst initialState = {\n  loading: false,\n  error: null,\n  items: [],\n};\n\nexport default function topSalesReducer(state = initialState, action) {\n  switch (action.type) {\n    case TOP_SALES_REQUEST:\n      return { ...state, loading: true, error: null };\n    case TOP_SALES_FAILURE: {\n      const { error } = action.payload;\n      return { ...state, loading: false, error };\n    }\n    case TOP_SALES_SUCCESS: {\n      const items = action.payload;\n      return {\n        ...state,\n        items,\n        loading: false,\n        error: null,\n      };\n    }\n    default:\n      return state;\n  }\n}\n","import {\n  CART_ADD_ITEM,\n  CART_REMOVE_ITEM,\n  CART_CLEAR,\n} from './types';\n\nconst initialState = JSON.parse(localStorage.getItem('cart')) || [];\n\nexport default function cartReducer(state = initialState, action) {\n  switch (action.type) {\n    case CART_ADD_ITEM: {\n      const { item, quantity } = action.payload;\n      const found = state.find((o) => (o.item.id === item.id) && (o.item.size === item.size));\n      if (found) {\n        return state.map((o) => {\n          if (o.item.key === found.item.key) return { ...o, quantity: o.quantity + quantity };\n          return o;\n        });\n      }\n      return [\n        ...state,\n        {\n          item: { ...item, key: `${item.id}/${item.size}` },\n          quantity,\n        },\n      ];\n    }\n    case CART_REMOVE_ITEM: {\n      const { key, decrement } = action.payload;\n      if ((decrement < 1) || (state.find((o) => (o.item.key === key)).quantity <= decrement)) {\n        return state.filter((o) => o.item.key !== action.payload.key);\n      }\n      return state.map((o) => {\n        if (o.item.key !== action.payload.key) return { ...o, quantity: o.quantity - decrement };\n        return o;\n      });\n    }\n    case CART_CLEAR: {\n      return [];\n    }\n    default:\n      return state;\n  }\n}\n","import {\n  ORDER_SET_PHONE,\n  ORDER_SET_ADDRESS,\n  ORDER_SUBMIT_REQUEST,\n  ORDER_SUBMIT_FAILURE,\n  ORDER_SUBMIT_SUCCESS,\n  ORDER_RESET,\n} from './types';\n\nconst initialState = {\n  loading: false,\n  error: null,\n  success: false,\n  phone: '',\n  address: '',\n};\n\nexport default function orderReducer(state = initialState, action) {\n  switch (action.type) {\n    case ORDER_SET_PHONE: {\n      return {\n        ...state,\n        phone: action.payload,\n      };\n    }\n    case ORDER_SET_ADDRESS: {\n      return {\n        ...state,\n        address: action.payload,\n      };\n    }\n    case ORDER_SUBMIT_REQUEST: {\n      return {\n        ...state,\n        data: action.payload,\n        loading: true,\n        error: null,\n      };\n    }\n    case ORDER_SUBMIT_FAILURE: {\n      const { error } = action.payload;\n      return { ...state, loading: false, error };\n    }\n    case ORDER_SUBMIT_SUCCESS: {\n      return {\n        ...state,\n        loading: false,\n        error: null,\n        success: true,\n      };\n    }\n    case ORDER_RESET: {\n      return {\n        ...state,\n        loading: false,\n        error: null,\n        success: false,\n      };\n    }\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport globalSettingsReducer from './globalSettings/reducer';\nimport categoryReducer from './categories/reducer';\nimport catalogReducer from './catalog/reducer';\nimport catalogItemReducer from './catalogItem/reducer';\nimport topSalesReducer from './topSales/reducer';\nimport cartReducer from './cart/reducer';\nimport orderReducer from './order/reducer';\n// import imagesReducer from './images/reducer';\n\nconst reducer = combineReducers({\n  globalSettings: globalSettingsReducer,\n  categories: categoryReducer,\n  catalog: catalogReducer,\n  catalogItem: catalogItemReducer,\n  topSales: topSalesReducer,\n  cart: cartReducer,\n  order: orderReducer,\n  // images: imagesReducer,\n});\n\nexport default reducer;\n","import { combineEpics } from 'redux-observable';\nimport { topSalesRequestEpic } from './topSales/epics';\nimport { catalogRequestEpic } from './catalog/epics';\nimport { categoryRequestEpic } from './categories/epics';\nimport { catalogItemRequestEpic } from './catalogItem/epics';\nimport { cartEpic } from './cart/epics';\nimport { orderRequestEpic } from './order/epics';\n// import { imagesRequestEpic } from './images/epics';\n\nconst epic = combineEpics(\n  topSalesRequestEpic,\n  catalogRequestEpic,\n  categoryRequestEpic,\n  catalogItemRequestEpic,\n  cartEpic,\n  orderRequestEpic,\n  // imagesRequestEpic,\n);\n\nexport default epic;\n","/* eslint-disable import/prefer-default-export */\nimport { ofType } from 'redux-observable';\nimport { of } from 'rxjs';\nimport { ajax } from 'rxjs/ajax';\nimport {\n  map,\n  exhaustMap,\n  retry,\n  catchError,\n} from 'rxjs/operators';\nimport { TOP_SALES_REQUEST } from './types';\nimport {\n  topSalesSuccess,\n  topSalesFailure,\n} from './actions';\n\nexport const topSalesRequestEpic = (action$) => action$.pipe(\n  ofType(TOP_SALES_REQUEST),\n  exhaustMap(() => ajax.getJSON(`${process.env.REACT_APP_BACKEND_URL}/top-sales`).pipe(\n    retry(5),\n    map((o) => topSalesSuccess(o)),\n    catchError((e) => of(topSalesFailure(e))),\n  )),\n);\n","/* eslint-disable import/prefer-default-export */\nimport { ofType } from 'redux-observable';\nimport { of } from 'rxjs';\nimport { ajax } from 'rxjs/ajax';\n\nimport {\n  map,\n  exhaustMap,\n  retry,\n  catchError,\n} from 'rxjs/operators';\n\nimport { CATALOG_REQUEST } from './types';\n\nimport {\n  catalogSuccess,\n  catalogFailure,\n} from './actions';\n\nexport const catalogRequestEpic = (action$) => action$.pipe(\n  ofType(CATALOG_REQUEST),\n  exhaustMap((o) => {\n    const categoryId = o.payload && o.payload.categoryId;\n    const offset = o.payload && o.payload.offset;\n    const q = o.payload && o.payload.q;\n    const urlParams = new URLSearchParams();\n    if (categoryId) urlParams.set('categoryId', categoryId);\n    if (offset) urlParams.set('offset', offset);\n    if (q && (q !== '')) urlParams.set('q', q);\n    return ajax.getJSON(`${process.env.REACT_APP_BACKEND_URL}/items?${urlParams.toString()}`).pipe(\n      retry(5),\n      map((obj) => catalogSuccess(obj)),\n      catchError((e) => of(catalogFailure(e))),\n    );\n  }),\n);\n","/* eslint-disable import/prefer-default-export */\nimport { ofType } from 'redux-observable';\nimport { of } from 'rxjs';\nimport { ajax } from 'rxjs/ajax';\n\nimport {\n  map,\n  exhaustMap,\n  retry,\n  catchError,\n} from 'rxjs/operators';\n\nimport { CATEGORY_REQUEST } from './types';\n\nimport {\n  categorySuccess,\n} from './actions';\n\nexport const categoryRequestEpic = (action$) => action$.pipe(\n  ofType(CATEGORY_REQUEST),\n  exhaustMap(() => ajax.getJSON(`${process.env.REACT_APP_BACKEND_URL}/categories`).pipe(\n    retry(5),\n    map((o) => categorySuccess(o)),\n    catchError((e) => of(e)),\n  )),\n);\n","/* eslint-disable import/prefer-default-export */\nimport { ofType } from 'redux-observable';\nimport { of } from 'rxjs';\nimport { ajax } from 'rxjs/ajax';\n\nimport {\n  map,\n  exhaustMap,\n  retry,\n  catchError,\n} from 'rxjs/operators';\n\nimport { CATALOG_ITEM_REQUEST } from './types';\n\nimport {\n  catalogItemSuccess,\n  catalogItemFailure,\n} from './actions';\n\nexport const catalogItemRequestEpic = (action$) => action$.pipe(\n  ofType(CATALOG_ITEM_REQUEST),\n  exhaustMap((o) => {\n    const id = o.payload;\n    return ajax.getJSON(`${process.env.REACT_APP_BACKEND_URL}/items/${id}`).pipe(\n      retry(5),\n      map((obj) => catalogItemSuccess(obj)),\n      catchError((e) => of(catalogItemFailure(e))),\n    );\n  }),\n);\n","/* eslint-disable import/prefer-default-export */\nimport {\n  map,\n  tap,\n  distinctUntilChanged,\n  ignoreElements,\n} from 'rxjs/operators';\n\nexport const cartEpic = (_, state$) => state$.pipe(\n  map((state) => state.cart),\n  distinctUntilChanged(),\n  tap((cart) => localStorage.setItem('cart', JSON.stringify(cart))),\n  ignoreElements(),\n);\n","/* eslint-disable import/prefer-default-export */\nimport { ofType } from 'redux-observable';\nimport { of } from 'rxjs';\nimport { ajax } from 'rxjs/ajax';\n\nimport {\n  map,\n  exhaustMap,\n  catchError,\n} from 'rxjs/operators';\n\nimport { ORDER_SUBMIT_REQUEST } from './types';\n\nimport {\n  orderSubmitSuccess,\n  orderSubmitFailure,\n} from './actions';\n\nexport const orderRequestEpic = (action$) => action$.pipe(\n  ofType(ORDER_SUBMIT_REQUEST),\n  exhaustMap((o) => {\n    const data = o.payload;\n    return ajax({\n      url: `${process.env.REACT_APP_BACKEND_URL}/order`,\n      method: 'POST',\n      headers: {\n        'Content-Type': 'Application/JSON',\n      },\n      body: JSON.stringify(data),\n    }).pipe(\n      map((obj) => orderSubmitSuccess(obj)),\n      catchError((e) => of(orderSubmitFailure(e))),\n    );\n  }),\n);\n","import { createStore, applyMiddleware, compose } from 'redux';\n\nimport { createEpicMiddleware } from 'redux-observable';\nimport reducer from './reducer';\nimport epic from './epics';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst epicMiddleware = createEpicMiddleware();\n\nconst store = createStore(\n  reducer,\n  composeEnhancers(applyMiddleware(epicMiddleware)),\n);\n\nepicMiddleware.run(epic);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from './redux/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}