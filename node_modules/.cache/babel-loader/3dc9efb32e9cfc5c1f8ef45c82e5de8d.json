{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documents\\\\GitHub\\\\ra16-diploma-master\\\\src\\\\components\\\\Order\\\\Order.jsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Preloader from '../Preloader/Preloader';\nimport MessageDialog from '../MessageDialog/MessageDialog';\nimport { orderRequest, orderPhone, orderAddress, orderAgreement } from '../../actions/orderAction';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Order() {\n  _s();\n\n  const orderState = useSelector(state => state.orderReducer);\n  const cartState = useSelector(state => state.cartReducer);\n  const dispatch = useDispatch();\n\n  async function setOrder() {\n    dispatch(orderRequest(orderState.phone, orderState.address, cartState.cartData));\n  }\n\n  const onSubmit = event => {\n    event.preventDefault();\n    setOrder();\n  };\n\n  const onChangePhone = event => {\n    const {\n      id,\n      value\n    } = event.target;\n    dispatch(orderPhone(id, value));\n  };\n\n  const onChangeAddress = event => {\n    const {\n      id,\n      value\n    } = event.target;\n    dispatch(orderAddress(id, value));\n  };\n\n  const onChangeAgreement = event => {\n    const {\n      id\n    } = event.target;\n    const status = event.target.checked;\n    dispatch(orderAgreement(id, status));\n  };\n\n  return orderState.operationResult ? /*#__PURE__*/_jsxDEV(MessageDialog, {\n    content: {\n      title: 'Ваш заказ принят в обработку',\n      text: 'Наш сотрудник свяжется с Вами для завершения оформления заказа'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 7\n  }, this) : /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"order\",\n    children: [orderState.loadingStatus && /*#__PURE__*/_jsxDEV(Preloader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 38\n    }, this), orderState.errorText && /*#__PURE__*/_jsxDEV(MessageDialog, {\n      content: {\n        type: 'error',\n        text: orderState.errorText\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-center\",\n      children: \"\\u041E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      style: {\n        maxWidth: '30rem',\n        margin: '0 auto'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"card-body\",\n        onSubmit: event => onSubmit(event),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"phone\",\n            children: \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            className: \"form-control\",\n            id: \"phone\",\n            name: \"phone\",\n            placeholder: \"\\u0412\\u0430\\u0448 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\",\n            value: orderState.phone,\n            onChange: event => onChangePhone(event),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"address\",\n            children: \"\\u0410\\u0434\\u0440\\u0435\\u0441 \\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            id: \"address\",\n            name: \"address\",\n            placeholder: \"\\u0410\\u0434\\u0440\\u0435\\u0441 \\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0438\",\n            value: orderState.address,\n            onChange: event => onChangeAddress(event),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group form-check\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            className: \"form-check-input\",\n            id: \"agreement\",\n            checked: orderState.agreement,\n            onChange: event => onChangeAgreement(event)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-check-label\",\n            htmlFor: \"agreement\",\n            children: \"\\u0421\\u043E\\u0433\\u043B\\u0430\\u0441\\u0435\\u043D \\u0441 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u0430\\u043C\\u0438 \\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-outline-secondary\",\n          disabled: !orderState.agreement || orderState.loadingStatus || !cartState.cartData.length,\n          children: \"\\u041E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Order, \"LKJwAawtdYImdCNQjY+LygRilOo=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = Order;\n\nvar _c;\n\n$RefreshReg$(_c, \"Order\");","map":{"version":3,"sources":["D:/Documents/GitHub/ra16-diploma-master/src/components/Order/Order.jsx"],"names":["React","useSelector","useDispatch","Preloader","MessageDialog","orderRequest","orderPhone","orderAddress","orderAgreement","Order","orderState","state","orderReducer","cartState","cartReducer","dispatch","setOrder","phone","address","cartData","onSubmit","event","preventDefault","onChangePhone","id","value","target","onChangeAddress","onChangeAgreement","status","checked","operationResult","title","text","loadingStatus","errorText","type","maxWidth","margin","agreement","length"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Preloader from '../Preloader/Preloader';\nimport MessageDialog from '../MessageDialog/MessageDialog';\nimport {\n  orderRequest,\n  orderPhone,\n  orderAddress,\n  orderAgreement,\n} from '../../actions/orderAction';\n\nexport default function Order() {\n  const orderState = useSelector((state) => state.orderReducer);\n  const cartState = useSelector((state) => state.cartReducer);\n  const dispatch = useDispatch();\n\n  async function setOrder() {\n    dispatch(orderRequest(orderState.phone, orderState.address, cartState.cartData));\n  }\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n    setOrder();\n  };\n\n  const onChangePhone = (event) => {\n    const { id, value } = event.target;\n    dispatch(orderPhone(id, value));\n  };\n\n  const onChangeAddress = (event) => {\n    const { id, value } = event.target;\n    dispatch(orderAddress(id, value));\n  };\n\n  const onChangeAgreement = (event) => {\n    const { id } = event.target;\n    const status = event.target.checked;\n    dispatch(orderAgreement(id, status));\n  };\n\n  return (\n    (orderState.operationResult) ? (\n      <MessageDialog\n        content={{\n          title: 'Ваш заказ принят в обработку',\n          text: 'Наш сотрудник свяжется с Вами для завершения оформления заказа',\n        }}\n      />\n    ) : (\n      <section className=\"order\">\n        {orderState.loadingStatus && <Preloader />}\n        {orderState.errorText && (\n          <MessageDialog\n            content={{ type: 'error', text: orderState.errorText }}\n          />\n        )}\n        <h2 className=\"text-center\">Оформить заказ</h2>\n        <div className=\"card\" style={{ maxWidth: '30rem', margin: '0 auto' }}>\n          <form className=\"card-body\" onSubmit={(event) => onSubmit(event)}>\n            <div className=\"form-group\">\n              <label htmlFor=\"phone\">Телефон</label>\n              <input\n                type=\"tel\"\n                className=\"form-control\"\n                id=\"phone\"\n                name=\"phone\"\n                placeholder=\"Ваш телефон\"\n                value={orderState.phone}\n                onChange={(event) => onChangePhone(event)}\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"address\">Адрес доставки</label>\n              <input\n                className=\"form-control\"\n                id=\"address\"\n                name=\"address\"\n                placeholder=\"Адрес доставки\"\n                value={orderState.address}\n                onChange={(event) => onChangeAddress(event)}\n                required\n              />\n            </div>\n            <div className=\"form-group form-check\">\n              <input\n                type=\"checkbox\"\n                className=\"form-check-input\"\n                id=\"agreement\"\n                checked={orderState.agreement}\n                onChange={(event) => onChangeAgreement(event)}\n              />\n              <label\n                className=\"form-check-label\"\n                htmlFor=\"agreement\"\n              >\n                Согласен с правилами доставки\n              </label>\n            </div>\n            <button\n              type=\"submit\"\n              className=\"btn btn-outline-secondary\"\n              disabled={!orderState.agreement\n                || orderState.loadingStatus\n                || !cartState.cartData.length}\n            >\n              Оформить\n            </button>\n          </form>\n        </div>\n      </section>\n    )\n  );\n}\n"]},"metadata":{},"sourceType":"module"}