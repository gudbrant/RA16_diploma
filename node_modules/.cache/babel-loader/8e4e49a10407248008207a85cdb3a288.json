{"ast":null,"code":"import { createOrder } from '../api/requests';\nimport { cartLocalStorageClear } from './cartAction';\nexport const orderInit = () => ({\n  type: 'ORDER_INIT'\n});\nexport const orderRequestStarted = () => ({\n  type: 'ORDER_REQUEST'\n});\nexport const orderRequestSuccess = () => ({\n  type: 'ORDER_REQUEST_SUCCESS'\n});\nexport const orderRequestFailure = errorText => ({\n  type: 'ORDER_REQUEST_FAILURE',\n  payload: {\n    errorText\n  }\n});\nexport const orderPhone = (id, value) => ({\n  type: 'ORDER_PHONE',\n  payload: {\n    [id]: value\n  }\n});\nexport const orderAddress = (id, value) => ({\n  type: 'ORDER_ADDRESS',\n  payload: {\n    [id]: value\n  }\n});\nexport const orderAgreement = (id, status) => ({\n  type: 'ORDER_AGREEMENT',\n  payload: {\n    [id]: status\n  }\n});\nexport const orderRequest = (phone, address, cartData) => async dispatch => {\n  dispatch(orderRequestStarted());\n\n  try {\n    await createOrder(phone, address, cartData);\n    dispatch(orderRequestSuccess());\n    dispatch(cartLocalStorageClear());\n  } catch (e) {\n    const detailedError = JSON.parse(e.message);\n    dispatch(orderRequestFailure(detailedError.text));\n  }\n};","map":{"version":3,"sources":["D:/Documents/GitHub/ra16-diploma-master/src/actions/orderAction.js"],"names":["createOrder","cartLocalStorageClear","orderInit","type","orderRequestStarted","orderRequestSuccess","orderRequestFailure","errorText","payload","orderPhone","id","value","orderAddress","orderAgreement","status","orderRequest","phone","address","cartData","dispatch","e","detailedError","JSON","parse","message","text"],"mappings":"AAAA,SAASA,WAAT,QAA4B,iBAA5B;AACA,SAASC,qBAAT,QAAsC,cAAtC;AAEA,OAAO,MAAMC,SAAS,GAAG,OAAO;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAAP,CAAlB;AACP,OAAO,MAAMC,mBAAmB,GAAG,OAAO;AAAED,EAAAA,IAAI,EAAE;AAAR,CAAP,CAA5B;AACP,OAAO,MAAME,mBAAmB,GAAG,OAAO;AAAEF,EAAAA,IAAI,EAAE;AAAR,CAAP,CAA5B;AACP,OAAO,MAAMG,mBAAmB,GAAIC,SAAD,KAAgB;AAAEJ,EAAAA,IAAI,EAAE,uBAAR;AAAiCK,EAAAA,OAAO,EAAE;AAAED,IAAAA;AAAF;AAA1C,CAAhB,CAA5B;AACP,OAAO,MAAME,UAAU,GAAG,CAACC,EAAD,EAAKC,KAAL,MAAgB;AAAER,EAAAA,IAAI,EAAE,aAAR;AAAuBK,EAAAA,OAAO,EAAE;AAAE,KAACE,EAAD,GAAMC;AAAR;AAAhC,CAAhB,CAAnB;AACP,OAAO,MAAMC,YAAY,GAAG,CAACF,EAAD,EAAKC,KAAL,MAAgB;AAAER,EAAAA,IAAI,EAAE,eAAR;AAAyBK,EAAAA,OAAO,EAAE;AAAE,KAACE,EAAD,GAAMC;AAAR;AAAlC,CAAhB,CAArB;AACP,OAAO,MAAME,cAAc,GAAG,CAACH,EAAD,EAAKI,MAAL,MAAiB;AAAEX,EAAAA,IAAI,EAAE,iBAAR;AAA2BK,EAAAA,OAAO,EAAE;AAAE,KAACE,EAAD,GAAMI;AAAR;AAApC,CAAjB,CAAvB;AAEP,OAAO,MAAMC,YAAY,GAAG,CAACC,KAAD,EAAQC,OAAR,EAAiBC,QAAjB,KAA8B,MAAOC,QAAP,IAAoB;AAC5EA,EAAAA,QAAQ,CAACf,mBAAmB,EAApB,CAAR;;AACA,MAAI;AACF,UAAMJ,WAAW,CAACgB,KAAD,EAAQC,OAAR,EAAiBC,QAAjB,CAAjB;AACAC,IAAAA,QAAQ,CAACd,mBAAmB,EAApB,CAAR;AACAc,IAAAA,QAAQ,CAAClB,qBAAqB,EAAtB,CAAR;AACD,GAJD,CAIE,OAAOmB,CAAP,EAAU;AACV,UAAMC,aAAa,GAAGC,IAAI,CAACC,KAAL,CAAWH,CAAC,CAACI,OAAb,CAAtB;AACAL,IAAAA,QAAQ,CAACb,mBAAmB,CAACe,aAAa,CAACI,IAAf,CAApB,CAAR;AACD;AACF,CAVM","sourcesContent":["import { createOrder } from '../api/requests';\nimport { cartLocalStorageClear } from './cartAction';\n\nexport const orderInit = () => ({ type: 'ORDER_INIT' });\nexport const orderRequestStarted = () => ({ type: 'ORDER_REQUEST' });\nexport const orderRequestSuccess = () => ({ type: 'ORDER_REQUEST_SUCCESS' });\nexport const orderRequestFailure = (errorText) => ({ type: 'ORDER_REQUEST_FAILURE', payload: { errorText } });\nexport const orderPhone = (id, value) => ({ type: 'ORDER_PHONE', payload: { [id]: value } });\nexport const orderAddress = (id, value) => ({ type: 'ORDER_ADDRESS', payload: { [id]: value } });\nexport const orderAgreement = (id, status) => ({ type: 'ORDER_AGREEMENT', payload: { [id]: status } });\n\nexport const orderRequest = (phone, address, cartData) => async (dispatch) => {\n  dispatch(orderRequestStarted());\n  try {\n    await createOrder(phone, address, cartData);\n    dispatch(orderRequestSuccess());\n    dispatch(cartLocalStorageClear());\n  } catch (e) {\n    const detailedError = JSON.parse(e.message);\n    dispatch(orderRequestFailure(detailedError.text));\n  }\n};\n"]},"metadata":{},"sourceType":"module"}