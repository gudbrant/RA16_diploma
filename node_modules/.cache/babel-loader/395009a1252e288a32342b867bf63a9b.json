{"ast":null,"code":"import _regeneratorRuntime from\"D:/Documents/GitHub/ra16-diploma-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Documents/GitHub/ra16-diploma-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{createProduct}from'../api/requests';export var productRequestStarted=function productRequestStarted(){return{type:'PRODUCT_REQUEST'};};export var productRequestSuccess=function productRequestSuccess(product){return{type:'PRODUCT_REQUEST_SUCCESS',payload:{product:product}};};export var productRequestFailure=function productRequestFailure(errorText,repeatAction){return{type:'PRODUCT_REQUEST_FAILURE',payload:{errorText:errorText,repeatAction:repeatAction}};};export var productCount=function productCount(count){return{type:'PRODUCT_COUNT',payload:{count:count}};};export var productSize=function productSize(size){return{type:'PRODUCT_SIZE',payload:{size:size}};};export var productRequest=function productRequest(id){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var data,detailedError;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(productRequestStarted());_context.prev=1;_context.next=4;return createProduct(id);case 4:data=_context.sent;dispatch(productRequestSuccess(data));_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);detailedError=JSON.parse(_context.t0.message);if(detailedError.code===404)dispatch(productRequestFailure('Товар недоступен для заказа',false));else dispatch(productRequestFailure(detailedError.text,true));case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();};","map":{"version":3,"sources":["D:/Documents/GitHub/ra16-diploma-master/src/actions/productAction.js"],"names":["createProduct","productRequestStarted","type","productRequestSuccess","product","payload","productRequestFailure","errorText","repeatAction","productCount","count","productSize","size","productRequest","id","dispatch","data","detailedError","JSON","parse","message","code","text"],"mappings":"yTAAA,OAASA,aAAT,KAA8B,iBAA9B,CAEA,MAAO,IAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,SAAO,CAAEC,IAAI,CAAE,iBAAR,CAAP,EAA9B,CACP,MAAO,IAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACC,OAAD,QAAc,CAAEF,IAAI,CAAE,yBAAR,CAAmCG,OAAO,CAAE,CAAED,OAAO,CAAPA,OAAF,CAA5C,CAAd,EAA9B,CACP,MAAO,IAAME,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACC,SAAD,CAAYC,YAAZ,QAA8B,CAAEN,IAAI,CAAE,yBAAR,CAAmCG,OAAO,CAAE,CAAEE,SAAS,CAATA,SAAF,CAAaC,YAAY,CAAZA,YAAb,CAA5C,CAA9B,EAA9B,CACP,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,QAAY,CAAER,IAAI,CAAE,eAAR,CAAyBG,OAAO,CAAE,CAAEK,KAAK,CAALA,KAAF,CAAlC,CAAZ,EAArB,CACP,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,IAAD,QAAW,CAAEV,IAAI,CAAE,cAAR,CAAwBG,OAAO,CAAE,CAAEO,IAAI,CAAJA,IAAF,CAAjC,CAAX,EAApB,CAEP,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,EAAD,iGAAQ,iBAAOC,QAAP,yIACpCA,QAAQ,CAACd,qBAAqB,EAAtB,CAAR,CADoC,sCAGfD,CAAAA,aAAa,CAACc,EAAD,CAHE,QAG5BE,IAH4B,eAIlCD,QAAQ,CAACZ,qBAAqB,CAACa,IAAD,CAAtB,CAAR,CAJkC,+EAM5BC,aAN4B,CAMZC,IAAI,CAACC,KAAL,CAAW,YAAEC,OAAb,CANY,CAOlC,GAAIH,aAAa,CAACI,IAAd,GAAuB,GAA3B,CAAgCN,QAAQ,CAACT,qBAAqB,CAAC,6BAAD,CAAgC,KAAhC,CAAtB,CAAR,CAAhC,IACKS,CAAAA,QAAQ,CAACT,qBAAqB,CAACW,aAAa,CAACK,IAAf,CAAqB,IAArB,CAAtB,CAAR,CAR6B,oEAAR,gEAAvB","sourcesContent":["import { createProduct } from '../api/requests';\n\nexport const productRequestStarted = () => ({ type: 'PRODUCT_REQUEST' });\nexport const productRequestSuccess = (product) => ({ type: 'PRODUCT_REQUEST_SUCCESS', payload: { product } });\nexport const productRequestFailure = (errorText, repeatAction) => ({ type: 'PRODUCT_REQUEST_FAILURE', payload: { errorText, repeatAction } });\nexport const productCount = (count) => ({ type: 'PRODUCT_COUNT', payload: { count } });\nexport const productSize = (size) => ({ type: 'PRODUCT_SIZE', payload: { size } });\n\nexport const productRequest = (id) => async (dispatch) => {\n  dispatch(productRequestStarted());\n  try {\n    const data = await createProduct(id);\n    dispatch(productRequestSuccess(data));\n  } catch (e) {\n    const detailedError = JSON.parse(e.message);\n    if (detailedError.code === 404) dispatch(productRequestFailure('Товар недоступен для заказа', false));\n    else dispatch(productRequestFailure(detailedError.text, true));\n  }\n};\n"]},"metadata":{},"sourceType":"module"}