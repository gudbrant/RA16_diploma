{"ast":null,"code":"import _regeneratorRuntime from\"D:/Documents/GitHub/ra16-diploma-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Documents/GitHub/ra16-diploma-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"D:/Documents/GitHub/ra16-diploma-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import{createOrder}from'../api/requests';import{cartLocalStorageClear}from'./cartAction';export var orderInit=function orderInit(){return{type:'ORDER_INIT'};};export var orderRequestStarted=function orderRequestStarted(){return{type:'ORDER_REQUEST'};};export var orderRequestSuccess=function orderRequestSuccess(){return{type:'ORDER_REQUEST_SUCCESS'};};export var orderRequestFailure=function orderRequestFailure(errorText){return{type:'ORDER_REQUEST_FAILURE',payload:{errorText:errorText}};};export var orderPhone=function orderPhone(id,value){return{type:'ORDER_PHONE',payload:_defineProperty({},id,value)};};export var orderAddress=function orderAddress(id,value){return{type:'ORDER_ADDRESS',payload:_defineProperty({},id,value)};};export var orderAgreement=function orderAgreement(id,status){return{type:'ORDER_AGREEMENT',payload:_defineProperty({},id,status)};};export var orderRequest=function orderRequest(phone,address,cartData){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var detailedError;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(orderRequestStarted());_context.prev=1;_context.next=4;return createOrder(phone,address,cartData);case 4:dispatch(orderRequestSuccess());dispatch(cartLocalStorageClear());_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);detailedError=JSON.parse(_context.t0.message);dispatch(orderRequestFailure(detailedError.text));case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();};","map":{"version":3,"sources":["D:/Documents/GitHub/ra16-diploma-master/src/actions/orderAction.js"],"names":["createOrder","cartLocalStorageClear","orderInit","type","orderRequestStarted","orderRequestSuccess","orderRequestFailure","errorText","payload","orderPhone","id","value","orderAddress","orderAgreement","status","orderRequest","phone","address","cartData","dispatch","detailedError","JSON","parse","message","text"],"mappings":"ydAAA,OAASA,WAAT,KAA4B,iBAA5B,CACA,OAASC,qBAAT,KAAsC,cAAtC,CAEA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,SAAO,CAAEC,IAAI,CAAE,YAAR,CAAP,EAAlB,CACP,MAAO,IAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,SAAO,CAAED,IAAI,CAAE,eAAR,CAAP,EAA5B,CACP,MAAO,IAAME,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,SAAO,CAAEF,IAAI,CAAE,uBAAR,CAAP,EAA5B,CACP,MAAO,IAAMG,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,SAAD,QAAgB,CAAEJ,IAAI,CAAE,uBAAR,CAAiCK,OAAO,CAAE,CAAED,SAAS,CAATA,SAAF,CAA1C,CAAhB,EAA5B,CACP,MAAO,IAAME,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,EAAD,CAAKC,KAAL,QAAgB,CAAER,IAAI,CAAE,aAAR,CAAuBK,OAAO,oBAAKE,EAAL,CAAUC,KAAV,CAA9B,CAAhB,EAAnB,CACP,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACF,EAAD,CAAKC,KAAL,QAAgB,CAAER,IAAI,CAAE,eAAR,CAAyBK,OAAO,oBAAKE,EAAL,CAAUC,KAAV,CAAhC,CAAhB,EAArB,CACP,MAAO,IAAME,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACH,EAAD,CAAKI,MAAL,QAAiB,CAAEX,IAAI,CAAE,iBAAR,CAA2BK,OAAO,oBAAKE,EAAL,CAAUI,MAAV,CAAlC,CAAjB,EAAvB,CAEP,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAQC,OAAR,CAAiBC,QAAjB,iGAA8B,iBAAOC,QAAP,oIACxDA,QAAQ,CAACf,mBAAmB,EAApB,CAAR,CADwD,sCAGhDJ,CAAAA,WAAW,CAACgB,KAAD,CAAQC,OAAR,CAAiBC,QAAjB,CAHqC,QAItDC,QAAQ,CAACd,mBAAmB,EAApB,CAAR,CACAc,QAAQ,CAAClB,qBAAqB,EAAtB,CAAR,CALsD,+EAOhDmB,aAPgD,CAOhCC,IAAI,CAACC,KAAL,CAAW,YAAEC,OAAb,CAPgC,CAQtDJ,QAAQ,CAACb,mBAAmB,CAACc,aAAa,CAACI,IAAf,CAApB,CAAR,CARsD,oEAA9B,gEAArB","sourcesContent":["import { createOrder } from '../api/requests';\nimport { cartLocalStorageClear } from './cartAction';\n\nexport const orderInit = () => ({ type: 'ORDER_INIT' });\nexport const orderRequestStarted = () => ({ type: 'ORDER_REQUEST' });\nexport const orderRequestSuccess = () => ({ type: 'ORDER_REQUEST_SUCCESS' });\nexport const orderRequestFailure = (errorText) => ({ type: 'ORDER_REQUEST_FAILURE', payload: { errorText } });\nexport const orderPhone = (id, value) => ({ type: 'ORDER_PHONE', payload: { [id]: value } });\nexport const orderAddress = (id, value) => ({ type: 'ORDER_ADDRESS', payload: { [id]: value } });\nexport const orderAgreement = (id, status) => ({ type: 'ORDER_AGREEMENT', payload: { [id]: status } });\n\nexport const orderRequest = (phone, address, cartData) => async (dispatch) => {\n  dispatch(orderRequestStarted());\n  try {\n    await createOrder(phone, address, cartData);\n    dispatch(orderRequestSuccess());\n    dispatch(cartLocalStorageClear());\n  } catch (e) {\n    const detailedError = JSON.parse(e.message);\n    dispatch(orderRequestFailure(detailedError.text));\n  }\n};\n"]},"metadata":{},"sourceType":"module"}