{"ast":null,"code":"import _regeneratorRuntime from\"D:/Documents/GitHub/ra16-diploma-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Documents/GitHub/ra16-diploma-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import fetchData,{fetchCompositeData}from'./fetch';var urlCatalog=\"\".concat(process.env.REACT_APP_SERVER_URL,\"items\");export var createTopSales=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var urlTopSales,opts;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:urlTopSales=\"\".concat(process.env.REACT_APP_SERVER_URL,\"top-sales\");opts={method:'GET'};return _context.abrupt(\"return\",fetchData(urlTopSales,opts));case 3:case\"end\":return _context.stop();}}},_callee);}));return function createTopSales(){return _ref.apply(this,arguments);};}();export var createProduct=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var opts;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:opts={method:'GET'};return _context2.abrupt(\"return\",fetchData(\"\".concat(urlCatalog,\"/\").concat(id),opts));case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function createProduct(_x){return _ref2.apply(this,arguments);};}();export var createOrder=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(phone,address,cartData){var urlOrder,opts;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:urlOrder=\"\".concat(process.env.REACT_APP_SERVER_URL,\"order\");opts={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({owner:{phone:phone,address:address},items:cartData.map(function(item){return{id:item.id,price:item.price,count:item.count};})})};return _context3.abrupt(\"return\",fetchData(urlOrder,opts));case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function createOrder(_x2,_x3,_x4){return _ref3.apply(this,arguments);};}();export var createCatalog=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(searchText,categoryId,offset){var opts;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:opts={method:'GET'};return _context4.abrupt(\"return\",fetchData(\"\".concat(urlCatalog,\"?q=\").concat(searchText,\"&categoryId=\").concat(categoryId,\"&offset=\").concat(offset),opts));case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function createCatalog(_x5,_x6,_x7){return _ref4.apply(this,arguments);};}();export var createCatalogAndCategories=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(searchText,categoryId,offset){var urlCategories,opts;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:urlCategories=\"\".concat(process.env.REACT_APP_SERVER_URL,\"categories\");opts={method:'GET'};return _context5.abrupt(\"return\",fetchCompositeData([urlCategories,\"\".concat(urlCatalog,\"?q=\").concat(searchText,\"&categoryId=\").concat(categoryId,\"&offset=\").concat(offset)],opts));case 3:case\"end\":return _context5.stop();}}},_callee5);}));return function createCatalogAndCategories(_x8,_x9,_x10){return _ref5.apply(this,arguments);};}();","map":{"version":3,"sources":["D:/Documents/GitHub/ra16-diploma-master/src/api/requests.js"],"names":["fetchData","fetchCompositeData","urlCatalog","process","env","REACT_APP_SERVER_URL","createTopSales","urlTopSales","opts","method","createProduct","id","createOrder","phone","address","cartData","urlOrder","headers","body","JSON","stringify","owner","items","map","item","price","count","createCatalog","searchText","categoryId","offset","createCatalogAndCategories","urlCategories"],"mappings":"yTAAA,MAAOA,CAAAA,SAAP,EAAoBC,kBAApB,KAA8C,SAA9C,CAEA,GAAMC,CAAAA,UAAU,WAAMC,OAAO,CAACC,GAAR,CAAYC,oBAAlB,SAAhB,CAEA,MAAO,IAAMC,CAAAA,cAAc,0FAAG,wJACtBC,WADsB,WACLJ,OAAO,CAACC,GAAR,CAAYC,oBADP,cAEtBG,IAFsB,CAEf,CAAEC,MAAM,CAAE,KAAV,CAFe,iCAGrBT,SAAS,CAACO,WAAD,CAAcC,IAAd,CAHY,wDAAH,kBAAdF,CAAAA,cAAc,0CAApB,CAMP,MAAO,IAAMI,CAAAA,aAAa,2FAAG,kBAAOC,EAAP,+HACrBH,IADqB,CACd,CAAEC,MAAM,CAAE,KAAV,CADc,kCAEpBT,SAAS,WAAIE,UAAJ,aAAkBS,EAAlB,EAAwBH,IAAxB,CAFW,0DAAH,kBAAbE,CAAAA,aAAa,6CAAnB,CAKP,MAAO,IAAME,CAAAA,WAAW,2FAAG,kBAAOC,KAAP,CAAcC,OAAd,CAAuBC,QAAvB,wIACnBC,QADmB,WACLb,OAAO,CAACC,GAAR,CAAYC,oBADP,UAEnBG,IAFmB,CAEZ,CACXC,MAAM,CAAE,MADG,CAEXQ,OAAO,CAAE,CACP,eAAgB,kBADT,CAFE,CAKXC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBC,KAAK,CAAE,CACLR,KAAK,CAALA,KADK,CAELC,OAAO,CAAPA,OAFK,CADY,CAKnBQ,KAAK,CAAEP,QAAQ,CAACQ,GAAT,CAAa,SAACC,IAAD,QAAW,CAC7Bb,EAAE,CAAEa,IAAI,CAACb,EADoB,CAE7Bc,KAAK,CAAED,IAAI,CAACC,KAFiB,CAG7BC,KAAK,CAAEF,IAAI,CAACE,KAHiB,CAAX,EAAb,CALY,CAAf,CALK,CAFY,kCAmBlB1B,SAAS,CAACgB,QAAD,CAAWR,IAAX,CAnBS,0DAAH,kBAAXI,CAAAA,WAAW,sDAAjB,CAsBP,MAAO,IAAMe,CAAAA,aAAa,2FAAG,kBAAOC,UAAP,CAAmBC,UAAnB,CAA+BC,MAA/B,+HACrBtB,IADqB,CACd,CAAEC,MAAM,CAAE,KAAV,CADc,kCAEpBT,SAAS,WAAIE,UAAJ,eAAoB0B,UAApB,wBAA6CC,UAA7C,oBAAkEC,MAAlE,EAA4EtB,IAA5E,CAFW,0DAAH,kBAAbmB,CAAAA,aAAa,sDAAnB,CAKP,MAAO,IAAMI,CAAAA,0BAA0B,2FAAG,kBAAOH,UAAP,CAAmBC,UAAnB,CAA+BC,MAA/B,6IAClCE,aADkC,WACf7B,OAAO,CAACC,GAAR,CAAYC,oBADG,eAElCG,IAFkC,CAE3B,CAAEC,MAAM,CAAE,KAAV,CAF2B,kCAGjCR,kBAAkB,CAAC,CAAC+B,aAAD,WAAmB9B,UAAnB,eAAmC0B,UAAnC,wBAA4DC,UAA5D,oBAAiFC,MAAjF,EAAD,CAA6FtB,IAA7F,CAHe,0DAAH,kBAA1BuB,CAAAA,0BAA0B,uDAAhC","sourcesContent":["import fetchData, { fetchCompositeData } from './fetch';\n\nconst urlCatalog = `${process.env.REACT_APP_SERVER_URL}items`;\n\nexport const createTopSales = async () => {\n  const urlTopSales = `${process.env.REACT_APP_SERVER_URL}top-sales`;\n  const opts = { method: 'GET' };\n  return fetchData(urlTopSales, opts);\n};\n\nexport const createProduct = async (id) => {\n  const opts = { method: 'GET' };\n  return fetchData(`${urlCatalog}/${id}`, opts);\n};\n\nexport const createOrder = async (phone, address, cartData) => {\n  const urlOrder = `${process.env.REACT_APP_SERVER_URL}order`;\n  const opts = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      owner: {\n        phone,\n        address,\n      },\n      items: cartData.map((item) => ({\n        id: item.id,\n        price: item.price,\n        count: item.count,\n      })),\n    }),\n  };\n  return fetchData(urlOrder, opts);\n};\n\nexport const createCatalog = async (searchText, categoryId, offset) => {\n  const opts = { method: 'GET' };\n  return fetchData(`${urlCatalog}?q=${searchText}&categoryId=${categoryId}&offset=${offset}`, opts);\n};\n\nexport const createCatalogAndCategories = async (searchText, categoryId, offset) => {\n  const urlCategories = `${process.env.REACT_APP_SERVER_URL}categories`;\n  const opts = { method: 'GET' };\n  return fetchCompositeData([urlCategories, `${urlCatalog}?q=${searchText}&categoryId=${categoryId}&offset=${offset}`], opts);\n};\n"]},"metadata":{},"sourceType":"module"}