{"ast":null,"code":"import _defineProperty from\"D:/Documents/GitHub/ra16-diploma-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:/Documents/GitHub/ra16-diploma-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/Documents/GitHub/ra16-diploma-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useSelector,useDispatch}from'react-redux';import{Link,NavLink,useHistory}from'react-router-dom';import classnames from'classnames';import logo from'../../img/header-logo.png';import{activeCategory}from'../../actions/categoriesAction';import{searchTextStatus}from'../../actions/searchAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DEFAULT_FORM_VALUE={search:''};export default function Header(){var cartState=useSelector(function(state){return state.cartReducer;});var dispatch=useDispatch();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),searchVisible=_useState2[0],setSearchVisible=_useState2[1];var _useState3=useState(DEFAULT_FORM_VALUE),_useState4=_slicedToArray(_useState3,2),form=_useState4[0],setForm=_useState4[1];var history=useHistory();var searchVisibleClass=classnames({'form-inline':true,invisible:searchVisible});var onSearch=function onSearch(event){event.preventDefault();if(form.search){dispatch(activeCategory(0));dispatch(searchTextStatus(form.search,true));setForm(DEFAULT_FORM_VALUE);history.push('/catalog');setSearchVisible(false);}else setSearchVisible(!searchVisible);};var onInputChange=function onInputChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setForm(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},name,value));});};return/*#__PURE__*/_jsx(\"header\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar navbar-expand-sm navbar-light bg-light\",children:[/*#__PURE__*/_jsx(Link,{className:\"navbar-brand\",to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Bosa Noga\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"collapase navbar-collapse\",id:\"navbarMain\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav mr-auto\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",exact:true,to:\"/\",children:\"\\u0413\\u043B\\u0430\\u0432\\u043D\\u0430\\u044F\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",to:\"/catalog\",children:\"\\u041A\\u0430\\u0442\\u0430\\u043B\\u043E\\u0433\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",to:\"/about\",children:\"\\u041E \\u043C\\u0430\\u0433\\u0430\\u0437\\u0438\\u043D\\u0435\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",to:\"/contacts\",children:\"\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u044B\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-controls-pics\",children:[/*#__PURE__*/_jsx(\"div\",{\"data-id\":\"search-expander\",className:\"header-controls-pic header-controls-search\",onClick:onSearch,onKeyPress:onSearch,role:\"button\",tabIndex:\"0\",\"aria-label\":\"Search field\"}),/*#__PURE__*/_jsx(Link,{to:\"/cart\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-controls-pic header-controls-cart\",children:[cartState.cartData.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"header-controls-cart-full\",children:cartState.cartData.length}),/*#__PURE__*/_jsx(\"div\",{className:\"header-controls-cart-menu\"})]})})]}),/*#__PURE__*/_jsx(\"form\",{\"data-id\":\"search-form\",className:\"header-controls-search-form \".concat(searchVisibleClass),onSubmit:onSearch,children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",name:\"search\",placeholder:\"\\u041F\\u043E\\u0438\\u0441\\u043A\",onChange:onInputChange,value:form.search})})]})]})]})})})});}","map":{"version":3,"sources":["D:/Documents/GitHub/ra16-diploma-master/src/components/Header/Header.jsx"],"names":["React","useState","useSelector","useDispatch","Link","NavLink","useHistory","classnames","logo","activeCategory","searchTextStatus","DEFAULT_FORM_VALUE","search","Header","cartState","state","cartReducer","dispatch","searchVisible","setSearchVisible","form","setForm","history","searchVisibleClass","invisible","onSearch","event","preventDefault","push","onInputChange","target","name","value","prev","cartData","length"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link, NavLink, useHistory } from 'react-router-dom';\nimport classnames from 'classnames';\nimport logo from '../../img/header-logo.png';\nimport { activeCategory } from '../../actions/categoriesAction';\nimport { searchTextStatus } from '../../actions/searchAction';\n\nconst DEFAULT_FORM_VALUE = {\n  search: '',\n};\n\nexport default function Header() {\n  const cartState = useSelector((state) => state.cartReducer);\n  const dispatch = useDispatch();\n  const [searchVisible, setSearchVisible] = useState(true);\n  const [form, setForm] = useState(DEFAULT_FORM_VALUE);\n  const history = useHistory();\n\n  const searchVisibleClass = classnames({\n    'form-inline': true,\n    invisible: searchVisible,\n  });\n\n  const onSearch = (event) => {\n    event.preventDefault();\n    if (form.search) {\n      dispatch(activeCategory(0));\n      dispatch(searchTextStatus(form.search, true));\n      setForm(DEFAULT_FORM_VALUE);\n      history.push('/catalog');\n      setSearchVisible(false);\n    } else setSearchVisible(!searchVisible);\n  };\n\n  const onInputChange = (event) => {\n    const { name, value } = event.target;\n    setForm((prev) => ({ ...prev, [name]: value }));\n  };\n\n  return (\n    <header className=\"container\">\n      <div className=\"row\">\n        <div className=\"col\">\n          <nav className=\"navbar navbar-expand-sm navbar-light bg-light\">\n            <Link className=\"navbar-brand\" to=\"/\">\n              <img src={logo} alt=\"Bosa Noga\" />\n            </Link>\n            <div className=\"collapase navbar-collapse\" id=\"navbarMain\">\n              <ul className=\"navbar-nav mr-auto\">\n                <li className=\"nav-item\">\n                  <NavLink className=\"nav-link\" exact to=\"/\">Главная</NavLink>\n                </li>\n                <li className=\"nav-item\">\n                  <NavLink className=\"nav-link\" to=\"/catalog\">Каталог</NavLink>\n                </li>\n                <li className=\"nav-item\">\n                  <NavLink className=\"nav-link\" to=\"/about\">О магазине</NavLink>\n                </li>\n                <li className=\"nav-item\">\n                  <NavLink className=\"nav-link\" to=\"/contacts\">Контакты</NavLink>\n                </li>\n              </ul>\n              <div>\n                <div className=\"header-controls-pics\">\n                  <div\n                    data-id=\"search-expander\"\n                    className=\"header-controls-pic header-controls-search\"\n                    onClick={onSearch}\n                    onKeyPress={onSearch}\n                    role=\"button\"\n                    tabIndex=\"0\"\n                    aria-label=\"Search field\"\n                  />\n                  <Link to=\"/cart\">\n                    <div className=\"header-controls-pic header-controls-cart\">\n                      {(cartState.cartData.length > 0) && <div className=\"header-controls-cart-full\">{cartState.cartData.length}</div>}\n                      <div className=\"header-controls-cart-menu\" />\n                    </div>\n                  </Link>\n                </div>\n                <form\n                  data-id=\"search-form\"\n                  className={`header-controls-search-form ${searchVisibleClass}`}\n                  onSubmit={onSearch}\n                >\n                  <input\n                    className=\"form-control\"\n                    name=\"search\"\n                    placeholder=\"Поиск\"\n                    onChange={onInputChange}\n                    value={form.search}\n                  />\n                </form>\n              </div>\n            </div>\n          </nav>\n        </div>\n      </div>\n    </header>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}