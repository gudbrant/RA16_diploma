{"ast":null,"code":"import _regeneratorRuntime from\"D:/Documents/GitHub/ra16-diploma-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"D:/Documents/GitHub/ra16-diploma-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _asyncToGenerator from\"D:/Documents/GitHub/ra16-diploma-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{createCatalogAndCategories}from'../api/requests';import{catalogFirstPageRequestStarted,catalogFirstPageRequestSuccess,catalogRequestFailure}from'./catalogAction';export var categoriesRequestStarted=function categoriesRequestStarted(){return{type:'CATEGORIES_REQUEST'};};export var categoriesRequestSuccess=function categoriesRequestSuccess(categoriesData){return{type:'CATEGORIES_REQUEST_SUCCESS',payload:{categoriesData:categoriesData}};};export var categoriesRequestFailure=function categoriesRequestFailure(errorText){return{type:'CATEGORIES_REQUEST_FAILURE',payload:{errorText:errorText}};};export var activeCategory=function activeCategory(id){return{type:'ACTIVE_CATEGORY',payload:{activeCategory:id}};};export var catalogAndCategoriesRequest=function catalogAndCategoriesRequest(searchText,categoryId,offset){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(categoriesRequestStarted());dispatch(catalogFirstPageRequestStarted());createCatalogAndCategories(searchText,categoryId,offset).then(function(_ref2){var _ref3=_slicedToArray(_ref2,2),categoriesData=_ref3[0],catalogData=_ref3[1];dispatch(categoriesRequestSuccess(categoriesData));dispatch(catalogFirstPageRequestSuccess(catalogData));}).catch(function(e){var detailedError=JSON.parse(e.message);dispatch(categoriesRequestFailure(detailedError.text));dispatch(catalogRequestFailure(detailedError.text));});case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};","map":{"version":3,"sources":["D:/Documents/GitHub/ra16-diploma-master/src/actions/categoriesAction.js"],"names":["createCatalogAndCategories","catalogFirstPageRequestStarted","catalogFirstPageRequestSuccess","catalogRequestFailure","categoriesRequestStarted","type","categoriesRequestSuccess","categoriesData","payload","categoriesRequestFailure","errorText","activeCategory","id","catalogAndCategoriesRequest","searchText","categoryId","offset","dispatch","then","catalogData","catch","e","detailedError","JSON","parse","message","text"],"mappings":"udAAA,OAASA,0BAAT,KAA2C,iBAA3C,CACA,OACEC,8BADF,CAEEC,8BAFF,CAGEC,qBAHF,KAIO,iBAJP,CAMA,MAAO,IAAMC,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,SAAO,CAAEC,IAAI,CAAE,oBAAR,CAAP,EAAjC,CACP,MAAO,IAAMC,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,CAACC,cAAD,QAAqB,CAAEF,IAAI,CAAE,4BAAR,CAAsCG,OAAO,CAAE,CAAED,cAAc,CAAdA,cAAF,CAA/C,CAArB,EAAjC,CACP,MAAO,IAAME,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,CAACC,SAAD,QAAgB,CAAEL,IAAI,CAAE,4BAAR,CAAsCG,OAAO,CAAE,CAAEE,SAAS,CAATA,SAAF,CAA/C,CAAhB,EAAjC,CACP,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,EAAD,QAAS,CAAEP,IAAI,CAAE,iBAAR,CAA2BG,OAAO,CAAE,CAAEG,cAAc,CAAEC,EAAlB,CAApC,CAAT,EAAvB,CAEP,MAAO,IAAMC,CAAAA,2BAA2B,CAAG,QAA9BA,CAAAA,2BAA8B,CAACC,UAAD,CAAaC,UAAb,CAAyBC,MAAzB,iGAAoC,iBAAOC,QAAP,kHAC7EA,QAAQ,CAACb,wBAAwB,EAAzB,CAAR,CACAa,QAAQ,CAAChB,8BAA8B,EAA/B,CAAR,CACAD,0BAA0B,CAACc,UAAD,CAAaC,UAAb,CAAyBC,MAAzB,CAA1B,CACGE,IADH,CACQ,eAAmC,mCAAjCX,cAAiC,UAAjBY,WAAiB,UACvCF,QAAQ,CAACX,wBAAwB,CAACC,cAAD,CAAzB,CAAR,CACAU,QAAQ,CAACf,8BAA8B,CAACiB,WAAD,CAA/B,CAAR,CACD,CAJH,EAIKC,KAJL,CAIW,SAACC,CAAD,CAAO,CACd,GAAMC,CAAAA,aAAa,CAAGC,IAAI,CAACC,KAAL,CAAWH,CAAC,CAACI,OAAb,CAAtB,CACAR,QAAQ,CAACR,wBAAwB,CAACa,aAAa,CAACI,IAAf,CAAzB,CAAR,CACAT,QAAQ,CAACd,qBAAqB,CAACmB,aAAa,CAACI,IAAf,CAAtB,CAAR,CACD,CARH,EAH6E,sDAApC,gEAApC","sourcesContent":["import { createCatalogAndCategories } from '../api/requests';\nimport {\n  catalogFirstPageRequestStarted,\n  catalogFirstPageRequestSuccess,\n  catalogRequestFailure,\n} from './catalogAction';\n\nexport const categoriesRequestStarted = () => ({ type: 'CATEGORIES_REQUEST' });\nexport const categoriesRequestSuccess = (categoriesData) => ({ type: 'CATEGORIES_REQUEST_SUCCESS', payload: { categoriesData } });\nexport const categoriesRequestFailure = (errorText) => ({ type: 'CATEGORIES_REQUEST_FAILURE', payload: { errorText } });\nexport const activeCategory = (id) => ({ type: 'ACTIVE_CATEGORY', payload: { activeCategory: id } });\n\nexport const catalogAndCategoriesRequest = (searchText, categoryId, offset) => async (dispatch) => {\n  dispatch(categoriesRequestStarted());\n  dispatch(catalogFirstPageRequestStarted());\n  createCatalogAndCategories(searchText, categoryId, offset)\n    .then(([categoriesData, catalogData]) => {\n      dispatch(categoriesRequestSuccess(categoriesData));\n      dispatch(catalogFirstPageRequestSuccess(catalogData));\n    }).catch((e) => {\n      const detailedError = JSON.parse(e.message);\n      dispatch(categoriesRequestFailure(detailedError.text));\n      dispatch(catalogRequestFailure(detailedError.text));\n    });\n};\n"]},"metadata":{},"sourceType":"module"}